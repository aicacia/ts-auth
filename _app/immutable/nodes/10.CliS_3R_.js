import{a as L,t as Z,c as xt,b as Bt}from"../chunks/disclose-version.B1Ir2FOR.js";import{p as ge,x as m,j as e,y as d,t as s,a as xe,c as a,r as t,s as l,l as q,f as ye,aj as fa,$ as ba}from"../chunks/runtime.psM0e5Y8.js";import{d as we,e as ze,s as _,h as pa}from"../chunks/render.Cjq5XT8C.js";import{d as Ze,e as se,r as ae,s as de,c as ie,bh as Lt,ag as nt,bi as Mt,bj as Rt,bk as ga,n as Gt,bl as xa,bm as ha,bn as ya,bo as wa,bp as ka,bq as Zt,br as Ht,bs as Na,bt as Ia,bu as Ea,bv as Ca,v as ht,bw as Ua,bx as Pa,u as Jt,by as Sa,bz as Da,bA as ja,b as zt,bB as Aa,bC as Ba,bD as za,bE as Ta,bF as qa,bG as Va,bH as Fa,bI as Oa,bJ as La,bK as Ma,bL as Ra,bM as Ga,bN as Za,bO as Ha,bP as Ja,bQ as Ka,bR as Qa,bS as Wa,bT as Xa,bU as Ya,bV as $a,bW as er,bX as tr,bY as ar,bZ as rr,b_ as ir,b$ as lr,c0 as nr,c1 as sr,c2 as dr,c3 as or,c4 as ur,c5 as vr,c6 as mr,c7 as _r,c8 as cr,c9 as fr,ca as br,cb as pr,cc as gr,cd as xr,ce as hr}from"../chunks/debounce.BaQmhekd.js";import{p as u}from"../chunks/proxy.BhkZ7AL-.js";import{p as K,b as st}from"../chunks/props.DuEunOx7.js";import{D as yr,g as wr}from"../chunks/Dropdown.DEEn-y_3.js";import{b as kr}from"../chunks/paths.O-eWMSOt.js";import{i as _e}from"../chunks/runtime.CsaQGn2V.js";import{o as dt}from"../chunks/index-client.DYF3A4K-.js";import{u as Se}from"../chunks/index.BFBrPiR5.js";import{P as Kt,T as Qt,M as lt,a as Wt,E as Nr}from"../chunks/Modal.DtHF1rvO.js";import{I as le,b as oe,c as Ge,G as He,m as Je,C as X,v as Y,S as Te,h as qe,a as Ke,N as ce}from"../chunks/InputResults.CgtxMCGx.js";import{b as Ir}from"../chunks/select.Cn-LvQI6.js";import"../chunks/isURL.production.K_L6Xxdv.js";import{C as Er}from"../chunks/chevron-left.BVFJI0c3.js";const Cr=()=>He((n={},r)=>{r.length&&(Je(r),X("username",se(),()=>{Y(n.username).isNotBlank()}),X("active",se(),()=>{Y(n.active).isNotBlank()}))});function Tt(n,r,i){r.add(n.currentTarget.name),i()}var Ur=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),Pr=Z('<form><div class="mb-2"><label for="username"> </label> <input type="text" name="username"> <!></div> <div class="mb-2"><label for="active"> <input type="checkbox" name="active"></label> <!></div> <div class="flex flex-row justify-end"><button type="submit" class="btn primary flex flex-shrink"><!> </button></div></form>');function Sr(n,r){ge(r,!0);let i=m(""),v=m(!0),g=Cr(),y=m(u(g.get())),k=m(!1),f=q(()=>e(k)),E=q(()=>Ke(e(y),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const b=new Set,N=Ze(()=>{g({username:e(i),active:e(v)},Array.from(b)).done(H=>{d(y,u(H))}),b.clear()},300);function z(){b.add("username"),b.add("active"),N(),N.flush()}async function j(H){H.preventDefault();try{d(k,!0),d(i,u(e(i).trim())),z(),e(y).isValid()&&r.onCreate(await Se.createUser({active:e(v),username:e(i)},r.applicationId))}catch(P){await qe(P)}finally{d(k,!1)}}var T=Pr(),U=a(T),D=a(U),w=a(D,!0);s(()=>_(w,Mt())),t(D);var p=l(D,2);ae(p);const C=q(()=>`w-full ${e(E)("username")??""}`);s(()=>de(p,"placeholder",Lt())),p.__input=[Tt,b,N];var c=l(p,2);le(c,{name:"username",get result(){return e(y)}}),t(U);var x=l(U,2),V=a(x),R=a(V);s(()=>_(R,`${Rt()??""} `));var F=l(R);ae(F);const I=q(()=>nt(e(E)("active")));F.__input=[Tt,b,N],t(V);var M=l(V,2);le(M,{name:"active",get result(){return e(y)}}),t(x);var A=l(x,2),o=a(A),B=a(o);{var Q=H=>{var P=Ur(),J=a(P),ve=a(J);Te(ve),t(J),t(P),L(H,P)};_e(B,H=>{e(k)&&H(Q)})}var $=l(B);s(()=>_($,` ${ga()??""}`)),t(o),t(A),t(T),s(()=>{ie(p,e(C)),ie(F,e(I)),o.disabled=e(f)}),ze("submit",T,j),oe(p,()=>e(i),H=>d(i,H)),Ge(F,()=>e(v),H=>d(v,H)),L(n,T),xe()}we(["input"]);const Dr=()=>He((n={},r)=>{r.length&&(Je(r),X("usernameConfirm",se(),()=>{Y(n.usernameConfirm).isNotBlank()}),X("usernameConfirm",Gt(),()=>{Y(n.username===n.usernameConfirm).isTruthy()}))});function jr(n,r,i){r.add(n.currentTarget.name),i()}var Ar=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),Br=Z('<form><p> </p> <div class="mb-2"><input type="text" name="usernameConfirm"> <!></div> <div class="flex flex-row justify-end"><button type="submit" class="btn danger flex flex-shrink"><!> </button></div></form>');function zr(n,r){ge(r,!0);let i=m(""),v=Dr(),g=m(u(v.get())),y=m(!1),k=q(()=>e(y)),f=q(()=>Ke(e(g),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const E=new Set,b=Ze(()=>{v({username:r.username,usernameConfirm:e(i)},Array.from(E)).done(I=>{d(g,u(I))}),E.clear()},300);function N(){E.add("name"),b(),b.flush()}async function z(I){I.preventDefault();try{d(y,!0),d(i,u(e(i).trim())),N(),e(g).isValid()&&(await Se.deleteUser(r.userId,r.applicationId),r.onDelete())}catch(M){await qe(M)}finally{d(y,!1)}}var j=Br(),T=a(j),U=a(T,!0);s(()=>_(U,ha())),t(T);var D=l(T,2),w=a(D);ae(w);const p=q(()=>`w-full ${e(f)("usernameConfirm")??""}`);s(()=>de(w,"placeholder",xa({username:r.username}))),w.__input=[jr,E,b];var C=l(w,2);le(C,{name:"usernameConfirm",get result(){return e(g)}}),t(D);var c=l(D,2),x=a(c),V=a(x);{var R=I=>{var M=Ar(),A=a(M),o=a(A);Te(o),t(A),t(M),L(I,M)};_e(V,I=>{e(y)&&I(R)})}var F=l(V);s(()=>_(F,` ${ya()??""}`)),t(x),t(c),t(j),s(()=>{ie(w,e(p)),x.disabled=e(k)}),ze("submit",j,z),oe(w,()=>e(i),I=>d(i,I)),L(n,j),xe()}we(["input"]);const Tr=()=>He((n,r)=>{r.length&&(Je(r),X("email",se(),()=>{Y(n.email).isNotBlank()}),X("primary",se(),()=>{Y(n.primary).isNotBlank()}),X("verified",se(),()=>{Y(n.verified).isNotBlank()}))});function gt(n,r,i){r.add(n.currentTarget.name),i()}var qr=Z('<div class="mb-2"><label for="email"> </label> <input type="email" name="email"> <!></div> <div class="flex flex-row mb-2"><div><label for="primary"> <input type="checkbox" name="primary"></label> <!></div> <div class="ml-2"><label for="verified"> <input type="checkbox" name="verified"></label> <!></div></div>',1);function Xt(n,r){ge(r,!0);let i=K(r,"email",15,""),v=K(r,"primary",15,!1),g=K(r,"verified",15,!1),y=K(r,"valid",15,!1),k=Tr(),f=m(u(k.get())),E=q(()=>Ke(e(f),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const b=new Set,N=Ze(()=>{k({email:i(),primary:v(),verified:g()},Array.from(b)).done(P=>{d(f,u(P)),y(e(f).isValid())}),b.clear()},300);function z(){var P;i((P=i())==null?void 0:P.trim()),b.add("email"),b.add("primary"),b.add("verified"),N(),N.flush()}dt(z);var j=qr(),T=ye(j),U=a(T),D=a(U,!0);s(()=>_(D,ka())),t(U);var w=l(U,2);ae(w);const p=q(()=>`w-full ${e(E)("email")??""}`);s(()=>de(w,"placeholder",wa())),w.__input=[gt,b,N];var C=l(w,2);le(C,{name:"email",get result(){return e(f)}}),t(T);var c=l(T,2),x=a(c),V=a(x),R=a(V);s(()=>_(R,`${Zt()??""} `));var F=l(R);ae(F);const I=q(()=>nt(e(E)("primary")));F.__input=[gt,b,N],t(V);var M=l(V,2);le(M,{name:"primary",get result(){return e(f)}}),t(x);var A=l(x,2),o=a(A),B=a(o);s(()=>_(B,`${Ht()??""} `));var Q=l(B);ae(Q);const $=q(()=>nt(e(E)("verified")));Q.__input=[gt,b,N],t(o);var H=l(o,2);return le(H,{name:"verified",get result(){return e(f)}}),t(A),t(c),s(()=>{ie(w,e(p)),ie(F,e(I)),ie(Q,e($))}),oe(w,i),Ge(F,v),Ge(Q,g),L(n,j),xe({validateAll:z})}we(["input"]);const Vr=()=>He((n={},r)=>{r.length&&(Je(r),X("emailConfirm",se(),()=>{Y(n.emailConfirm).isNotBlank()}),X("emailConfirm",Gt(),()=>{Y(n.email===n.emailConfirm).isTruthy()}))});function Fr(n,r,i){r.add(n.currentTarget.name),i()}var Or=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),Lr=Z('<form><p> </p> <div class="mb-2"><input type="text" name="emailConfirm"> <!></div> <div class="flex flex-row justify-end"><button type="submit" class="btn danger flex flex-shrink"><!> </button></div></form>');function Mr(n,r){ge(r,!0);let i=m(""),v=Vr(),g=m(u(v.get())),y=m(!1),k=q(()=>e(y)),f=q(()=>Ke(e(g),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const E=new Set,b=Ze(()=>{v({email:r.email,emailConfirm:e(i)},Array.from(E)).done(I=>{d(g,u(I))}),E.clear()},300);function N(){E.add("email"),b(),b.flush()}async function z(I){I.preventDefault();try{d(y,!0),d(i,u(e(i).trim())),N(),e(g).isValid()&&(await Se.deleteUserEmail(r.userId,r.emailId,r.applicationId),r.onDelete())}catch(M){await qe(M)}finally{d(y,!1)}}var j=Lr(),T=a(j),U=a(T,!0);s(()=>_(U,Ia())),t(T);var D=l(T,2),w=a(D);ae(w);const p=q(()=>`w-full ${e(f)("emailConfirm")??""}`);s(()=>de(w,"placeholder",Na({email:r.email}))),w.__input=[Fr,E,b];var C=l(w,2);le(C,{name:"emailConfirm",get result(){return e(g)}}),t(D);var c=l(D,2),x=a(c),V=a(x);{var R=I=>{var M=Or(),A=a(M),o=a(A);Te(o),t(A),t(M),L(I,M)};_e(V,I=>{e(y)&&I(R)})}var F=l(V);s(()=>_(F,` ${Ea()??""}`)),t(x),t(c),t(j),s(()=>{ie(w,e(p)),x.disabled=e(k)}),ze("submit",j,z),oe(w,()=>e(i),I=>d(i,I)),L(n,j),xe()}we(["input"]);function qt(n,r){n.preventDefault(),n.stopPropagation(),d(r,!e(r))}function Rr(n,r){n.preventDefault(),n.stopPropagation(),d(r,!e(r))}var Gr=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),Zr=Z("<h3> </h3>"),Hr=Z('<div class="flex flex-row justify-between items-center mb-2"><div class="flex flex-col"><p class="m-0"> </p> <div class="flex flex-row items-center"><label for="primary"> <input type="checkbox" name="primary" readonly=""></label> <label for="verified"> <input type="checkbox" name="verified" readonly=""></label></div></div> <div class="flex flex-row items-center"><button class="btn primary icon"><!></button> <button class="btn danger icon ms-2"><!></button></div></div> <form><!> <div class="flex flex-row justify-end"><div class="flex flex-row"><button class="btn secondary flex flex-shrink"> </button> <button type="submit" class="btn primary flex flex-shrink"><!> </button></div></div></form> <!>',1);function Vt(n,r){ge(r,!0);let i=K(r,"user",15),v=K(r,"email",15),g=m(u(v().email)),y=m(u(v().primary)),k=m(u(v().verified)),f=m(!1),E=m(!1);function b(){if(v().primary)i(i().email=null,!0);else{const G=i().emails.findIndex(te=>te.id===v().id);i().emails.splice(G,1)}}let N=m(void 0),z=m(!1),j=m(!1),T=q(()=>e(j)||!e(z));async function U(G){var te;if(G.preventDefault(),(te=e(N))==null||te.validateAll(),e(z))try{d(j,!0);const re=await Se.updateUserEmail(i().id,v().id,{email:e(g),primary:e(y),verified:e(k)},r.applicationId);if(d(f,!1),v().primary!==re.primary){if(i().email&&i().email.id!==re.id){const ne=i().emails.findIndex(Ne=>Ne.id===re.id);i().emails.splice(ne,1),i(i().email.primary=!1,!0),i().emails.push(i().email)}i(i().email=re,!0)}else{const ne=i().emails.findIndex(Ne=>Ne.id===re.id);ne!==-1&&i(i().emails[ne]=re,!0)}v(re)}catch(re){qe(re)}finally{d(j,!1)}}var D=Hr(),w=ye(D),p=a(w),C=a(p),c=a(C,!0);t(C);var x=l(C,2),V=a(x),R=a(V);s(()=>_(R,`${Zt()??""} `));var F=l(R);ae(F),t(V);var I=l(V,2),M=a(I);s(()=>_(M,`${Ht()??""} `));var A=l(M);ae(A),t(I),t(x),t(p);var o=l(p,2),B=a(o);B.__click=[qt,f];var Q=a(B);Kt(Q,{}),t(B);var $=l(B,2);$.__click=[Rr,E];var H=a($);Qt(H,{}),t($),t(o),t(w);var P=l(w,2),J=a(P);st(Xt(J,{get email(){return e(g)},set email(G){d(g,u(G))},get primary(){return e(y)},set primary(G){d(y,u(G))},get verified(){return e(k)},set verified(G){d(k,u(G))},get valid(){return e(z)},set valid(G){d(z,u(G))}}),G=>d(N,u(G)),()=>e(N));var ve=l(J,2),he=a(ve),h=a(he);h.__click=[qt,f];var S=a(h,!0);s(()=>_(S,Ua())),t(h);var O=l(h,2),W=a(O);{var ee=G=>{var te=Gr(),re=a(te),ne=a(re);Te(ne),t(re),t(te),L(G,te)};_e(W,G=>{e(j)&&G(ee)})}var ke=l(W);s(()=>_(ke,` ${Pa()??""}`)),t(O),t(he),t(ve),t(P);var ue=l(P,2);lt(ue,{get open(){return e(E)},set open(te){d(E,u(te))},title:te=>{var re=Zr(),ne=a(re,!0);s(()=>_(ne,Ca({email:v().email}))),t(re),L(te,re)},children:(te,re)=>{var ne=xt(),Ne=ye(ne);{var De=Ce=>{Mr(Ce,{get applicationId(){return r.applicationId},get userId(){return i().id},get emailId(){return v().id},get email(){return v().email},onDelete:b})};_e(Ne,Ce=>{e(E)&&Ce(De)})}L(te,ne)},$$slots:{title:!0,default:!0}}),s(()=>{ht(w,"hidden",e(f)),_(c,v().email),ht(P,"hidden",!e(f)),O.disabled=e(T)}),Ge(F,()=>v().primary,G=>v(v().primary=G,!0)),Ge(A,()=>v().verified,G=>v(v().verified=G,!0)),ze("submit",P,U),L(n,D),xe()}we(["click"]);function Jr(n,r){n.preventDefault(),d(r,!0)}function Kr(n,r){n.stopPropagation(),n.preventDefault(),r()}var Qr=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),Wr=Z('<form><!> <div class="flex flex-row justify-end"><button class="btn secondary flex flex-shrink"> </button> <button type="submit" class="btn primary flex flex-shrink"><!> </button></div></form>'),Xr=Z('<div class="flex flex-row justify-between"><h5> </h5> <div class="flex flex-col justify-center"><button class="btn primary icon"><!></button></div></div> <!> <hr class="my-2"> <div class="flex flex-col"><!> <!></div>',1);function Yr(n,r){ge(r,!0);let i=K(r,"user",15),v=m(void 0),g=m(!1),y=m(""),k=m(!1),f=m(!1),E=m(!1),b=m(!1),N=q(()=>e(b)||!e(E));function z(){d(g,!1),d(y,""),d(k,!1),d(f,!1)}async function j(A){var o;if(A.preventDefault(),(o=e(v))==null||o.validateAll(),e(E))try{d(b,!0);const B=await Se.createUserEmail(i().id,{email:e(y),primary:e(k),verified:e(f)},r.applicationId);z(),B.primary?(i().email&&i().emails.push(i().email),i(i().email=B,!0)):i().emails.push(B),r.onEdit(i())}catch(B){qe(B)}finally{d(b,!1)}}var T=Xr(),U=ye(T),D=a(U),w=a(D,!0);s(()=>_(w,Sa())),t(D);var p=l(D,2),C=a(p);C.__click=[Jr,g];var c=a(C);Wt(c,{}),t(C),t(p),t(U);var x=l(U,2);{var V=A=>{var o=Wr(),B=a(o);st(Xt(B,{get email(){return e(y)},set email(h){d(y,u(h))},get primary(){return e(k)},set primary(h){d(k,u(h))},get verified(){return e(f)},set verified(h){d(f,u(h))},get valid(){return e(E)},set valid(h){d(E,u(h))}}),h=>d(v,u(h)),()=>e(v));var Q=l(B,2),$=a(Q);$.__click=[Kr,z];var H=a($,!0);s(()=>_(H,Da())),t($);var P=l($,2),J=a(P);{var ve=h=>{var S=Qr(),O=a(S),W=a(O);Te(W),t(O),t(S),L(h,S)};_e(J,h=>{e(b)&&h(ve)})}var he=l(J);s(()=>_(he,` ${ja()??""}`)),t(P),t(Q),t(o),s(()=>P.disabled=e(N)),ze("submit",o,j),L(A,o)};_e(x,A=>{e(g)&&A(V)})}var R=l(x,4),F=a(R);{var I=A=>{Vt(A,{get applicationId(){return r.applicationId},get email(){return i().email},get user(){return i()},set user(o){i(o)}})};_e(F,A=>{i().email&&A(I)})}var M=l(F,2);Jt(M,17,()=>i().emails,A=>A.id,(A,o)=>{Vt(A,{get applicationId(){return r.applicationId},get email(){return e(o)},get user(){return i()},set user(B){i(B)}})}),t(R),L(n,T),xe()}we(["click"]);const $r=()=>He((n,r)=>{r.length&&(Je(r),ce(!n.name,()=>{X("name",se(),()=>{Y(n.name).isNotBlank()})}),ce(!n.givenName,()=>{X("givenName",se(),()=>{Y(n.givenName).isNotBlank()})}),ce(!n.familyName,()=>{X("familyName",se(),()=>{Y(n.familyName).isNotBlank()})}),ce(!n.middleName,()=>{X("middleName",se(),()=>{Y(n.middleName).isNotBlank()})}),ce(!n.nickname,()=>{X("nickname",se(),()=>{Y(n.nickname).isNotBlank()})}),ce(!n.gender,()=>{X("gender",se(),()=>{Y(n.gender).isNotBlank()})}),ce(!n.zoneInfo,()=>{X("zoneInfo",se(),()=>{Y(n.zoneInfo).isNotBlank()})}),ce(!n.locale,()=>{X("locale",se(),()=>{Y(n.locale).isNotBlank()})}),ce(!n.address,()=>{X("address",se(),()=>{Y(n.address).isNotBlank()})}),ce(!n.birthdate,()=>{X("birthdate",se(),()=>{Y(n.birthdate).isNotBlank()})}),ce(!n.profilePicture,()=>{X("profilePicture",zt(),()=>{Y(n.profilePicture).isURL({require_tld:!1,require_protocol:!1,require_host:!1,require_port:!1,require_valid_protocol:!1,allow_underscores:!0,allow_trailing_dot:!0,allow_protocol_relative_urls:!0,allow_fragments:!0,allow_query_components:!0})})}),ce(!n.website,()=>{X("website",zt(),()=>{Y(n.website).isURL({require_tld:!1,require_protocol:!1,require_host:!1,require_port:!1,require_valid_protocol:!1,allow_underscores:!0,allow_trailing_dot:!0,allow_protocol_relative_urls:!0,allow_fragments:!0,allow_query_components:!0})})}))});function pe(n,r,i){r.add(n.currentTarget.name),i()}function ei(n,r,i,v,g){r.add(n.currentTarget.name),i(),v(new Date(e(g)))}var ti=Z('<div class="flex flex-row mb-2"><div class="mr-1 flex-grow"><label for="name"> </label> <input type="text" name="name"> <!></div> <div class="ml-1 flex-grow"><label for="nickname"> </label> <input type="text" name="nickname"> <!></div></div> <div class="flex flex-row mb-2"><div class="mr-1 flex-grow"><label for="givenName"> </label> <input type="text" name="givenName"> <!></div> <div class="mx-1 flex-grow"><label for="middleName"> </label> <input type="text" name="middleName"> <!></div> <div class="ml-1 flex-grow"><label for="familyName"> </label> <input type="text" name="familyName"> <!></div></div> <div class="flex flex-row mb-2"><div class="mr-1 flex-grow"><label for="profilePicture"> </label> <input type="text" name="profilePicture"> <!></div> <div class="ml-1 flex-grow"><label for="website"> </label> <input type="text" name="website"> <!></div></div> <div class="flex flex-row mb-2"><div class="mr-1 flex-grow"><label for="gender"> </label> <select name="gender"><option> </option><option> </option></select> <!></div> <div class="ml-1 flex-grow"><label for="birthdate"> </label> <input type="date" name="birthdate"> <!></div></div> <div class="flex flex-row mb-2"><div class="mr-1 flex-grow"><label for="zoneInfo"> </label> <input type="text" name="zoneInfo"> <!></div> <div class="ml-1 flex-grow"><label for="locale"> </label> <input type="text" name="locale"> <!></div></div> <div class="mb-2"><label for="address"> </label> <input type="text" name="address"> <!></div>',1);function ai(n,r){var Nt;ge(r,!0);let i=K(r,"name",15),v=K(r,"givenName",15),g=K(r,"familyName",15),y=K(r,"middleName",15),k=K(r,"nickname",15),f=K(r,"profilePicture",15),E=K(r,"website",15),b=K(r,"gender",15),N=K(r,"birthdate",15),z=K(r,"zoneInfo",15),j=K(r,"locale",15),T=K(r,"address",15),U=K(r,"valid",15,!1),D=m(u((Nt=N())==null?void 0:Nt.toISOString().substring(0,10))),w=$r(),p=m(u(w.get())),C=q(()=>Ke(e(p),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const c=new Set,x=Ze(()=>{w({name:i(),givenName:v(),familyName:g(),middleName:y(),nickname:k(),profilePicture:f(),website:E(),gender:b(),birthdate:N(),zoneInfo:z(),locale:j(),address:T()},Array.from(c)).done(Re=>{d(p,u(Re)),U(e(p).isValid())}),c.clear()},300);function V(){var Re,It,Et,Ct,Ut,Pt,St,Dt,jt,At;T((Re=T())==null?void 0:Re.trim()),g((It=g())==null?void 0:It.trim()),b((Et=b())==null?void 0:Et.trim()),v((Ct=v())==null?void 0:Ct.trim()),y((Ut=y())==null?void 0:Ut.trim()),k((Pt=k())==null?void 0:Pt.trim()),f((St=f())==null?void 0:St.trim()),E((Dt=E())==null?void 0:Dt.trim()),z((jt=z())==null?void 0:jt.trim()),j((At=j())==null?void 0:At.trim()),c.add("name"),c.add("givenName"),c.add("familyName"),c.add("middleName"),c.add("nickname"),c.add("profilePicture"),c.add("website"),c.add("gender"),c.add("birthdate"),c.add("zoneInfo"),c.add("locale"),c.add("address"),x(),x.flush()}dt(V);var R=ti(),F=ye(R),I=a(F),M=a(I),A=a(M,!0);s(()=>_(A,Za())),t(M);var o=l(M,2);ae(o);const B=q(()=>`w-full ${e(C)("name")??""}`);s(()=>de(o,"placeholder",Aa())),o.__input=[pe,c,x];var Q=l(o,2);le(Q,{name:"name",get result(){return e(p)}}),t(I);var $=l(I,2),H=a($),P=a(H,!0);s(()=>_(P,Ha())),t(H);var J=l(H,2);ae(J);const ve=q(()=>`w-full ${e(C)("nickname")??""}`);s(()=>de(J,"placeholder",Ba())),J.__input=[pe,c,x];var he=l(J,2);le(he,{name:"nickname",get result(){return e(p)}}),t($),t(F);var h=l(F,2),S=a(h),O=a(S),W=a(O,!0);s(()=>_(W,Ja())),t(O);var ee=l(O,2);ae(ee);const ke=q(()=>`w-full ${e(C)("givenName")??""}`);s(()=>de(ee,"placeholder",za())),ee.__input=[pe,c,x];var ue=l(ee,2);le(ue,{name:"givenName",get result(){return e(p)}}),t(S);var G=l(S,2),te=a(G),re=a(te,!0);s(()=>_(re,Ka())),t(te);var ne=l(te,2);ae(ne);const Ne=q(()=>`w-full ${e(C)("middleName")??""}`);s(()=>de(ne,"placeholder",Ta())),ne.__input=[pe,c,x];var De=l(ne,2);le(De,{name:"middleName",get result(){return e(p)}}),t(G);var Ce=l(G,2),je=a(Ce),ot=a(je,!0);s(()=>_(ot,Qa())),t(je);var Ie=l(je,2);ae(Ie);const et=q(()=>`w-full ${e(C)("familyName")??""}`);s(()=>de(Ie,"placeholder",qa())),Ie.__input=[pe,c,x];var ut=l(Ie,2);le(ut,{name:"familyName",get result(){return e(p)}}),t(Ce),t(h);var fe=l(h,2),me=a(fe),Ue=a(me),Ve=a(Ue,!0);s(()=>_(Ve,Wa())),t(Ue);var be=l(Ue,2);ae(be);const vt=q(()=>`w-full ${e(C)("profilePicture")??""}`);s(()=>de(be,"placeholder",Va())),be.__input=[pe,c,x];var tt=l(be,2);le(tt,{name:"profilePicture",get result(){return e(p)}}),t(me);var Qe=l(me,2),We=a(Qe),Xe=a(We,!0);s(()=>_(Xe,Xa())),t(We);var Pe=l(We,2);ae(Pe);const at=q(()=>`w-full ${e(C)("website")??""}`);s(()=>de(Pe,"placeholder",Fa())),Pe.__input=[pe,c,x];var rt=l(Pe,2);le(rt,{name:"website",get result(){return e(p)}}),t(Qe),t(fe);var Ye=l(fe,2),Ae=a(Ye),Ee=a(Ae),Yt=a(Ee,!0);s(()=>_(Yt,Ya())),t(Ee);var Be=l(Ee,2);const $t=q(()=>`w-full ${e(C)("gender")??""}`);s(()=>de(Be,"placeholder",Oa())),Be.__input=[pe,c,x];var $e=a(Be);$e.value=($e.__value="male")==null?"":"male";var ea=a($e,!0);s(()=>_(ea,$a())),t($e);var it=l($e);it.value=(it.__value="female")==null?"":"female";var ta=a(it,!0);s(()=>_(ta,er())),t(it),t(Be);var aa=l(Be,2);le(aa,{name:"gender",get result(){return e(p)}}),t(Ae);var yt=l(Ae,2),mt=a(yt),ra=a(mt,!0);s(()=>_(ra,tr())),t(mt);var Fe=l(mt,2);ae(Fe);const ia=q(()=>`w-full ${e(C)("birthdate")??""}`);s(()=>de(Fe,"placeholder",La())),Fe.__input=[ei,c,x,N,D];var la=l(Fe,2);le(la,{name:"birthdate",get result(){return e(p)}}),t(yt),t(Ye);var _t=l(Ye,2),ct=a(_t),ft=a(ct),na=a(ft,!0);s(()=>_(na,ar())),t(ft);var Oe=l(ft,2);ae(Oe);const sa=q(()=>`w-full ${e(C)("zoneInfo")??""}`);s(()=>de(Oe,"placeholder",Ma())),Oe.__input=[pe,c,x];var da=l(Oe,2);le(da,{name:"zoneInfo",get result(){return e(p)}}),t(ct);var wt=l(ct,2),bt=a(wt),oa=a(bt,!0);s(()=>_(oa,rr())),t(bt);var Le=l(bt,2);ae(Le);const ua=q(()=>`w-full ${e(C)("locale")??""}`);s(()=>de(Le,"placeholder",Ra())),Le.__input=[pe,c,x];var va=l(Le,2);le(va,{name:"locale",get result(){return e(p)}}),t(wt),t(_t);var kt=l(_t,2),pt=a(kt),ma=a(pt,!0);s(()=>_(ma,ir())),t(pt);var Me=l(pt,2);ae(Me);const _a=q(()=>`w-full ${e(C)("address")??""}`);s(()=>de(Me,"placeholder",Ga())),Me.__input=[pe,c,x];var ca=l(Me,2);return le(ca,{name:"address",get result(){return e(p)}}),t(kt),s(()=>{ie(o,e(B)),ie(J,e(ve)),ie(ee,e(ke)),ie(ne,e(Ne)),ie(Ie,e(et)),ie(be,e(vt)),ie(Pe,e(at)),ie(Be,e($t)),ie(Fe,e(ia)),ie(Oe,e(sa)),ie(Le,e(ua)),ie(Me,e(_a))}),oe(o,i),oe(J,k),oe(ee,v),oe(ne,y),oe(Ie,g),oe(be,f),oe(Pe,E),Ir(Be,b),oe(Fe,()=>e(D),Re=>d(D,Re)),oe(Oe,z),oe(Le,j),oe(Me,T),L(n,R),xe({validateAll:V})}we(["input"]);var ri=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),ii=Z('<form><!> <div class="flex flex-row justify-end"><button type="submit" class="btn primary flex flex-shrink"><!> </button></div></form>');function li(n,r){ge(r,!0);let i=K(r,"user",15),v=m(u(i().info.address)),g=m(u(i().info.familyName)),y=m(u(i().info.gender)),k=m(u(i().info.givenName)),f=m(u(i().info.locale)),E=m(u(i().info.middleName)),b=m(u(i().info.name)),N=m(u(i().info.nickname)),z=m(u(i().info.profilePicture)),j=m(u(i().info.website)),T=m(u(i().info.birthdate)),U=m(u(i().info.zoneInfo)),D=m(void 0),w=m(!1),p=m(!1),C=q(()=>e(p)||!e(w));async function c(o){var B;o.preventDefault();try{d(p,!0),(B=e(D))==null||B.validateAll(),e(w)&&i(i().info=await Se.updateUserInfo(i().id,{name:e(b),givenName:e(k),familyName:e(g),middleName:e(E),nickname:e(N),profilePicture:e(z),website:e(j),gender:e(y),birthdate:e(T),zoneInfo:e(U),locale:e(f),address:e(v)},r.applicationId),!0)}catch(Q){await qe(Q)}finally{d(p,!1)}}var x=ii(),V=a(x);st(ai(V,{get address(){return e(v)},set address(o){d(v,u(o))},get familyName(){return e(g)},set familyName(o){d(g,u(o))},get gender(){return e(y)},set gender(o){d(y,u(o))},get givenName(){return e(k)},set givenName(o){d(k,u(o))},get locale(){return e(f)},set locale(o){d(f,u(o))},get middleName(){return e(E)},set middleName(o){d(E,u(o))},get name(){return e(b)},set name(o){d(b,u(o))},get nickname(){return e(N)},set nickname(o){d(N,u(o))},get profilePicture(){return e(z)},set profilePicture(o){d(z,u(o))},get birthdate(){return e(T)},set birthdate(o){d(T,u(o))},get website(){return e(j)},set website(o){d(j,u(o))},get zoneInfo(){return e(U)},set zoneInfo(o){d(U,u(o))},get valid(){return e(w)},set valid(o){d(w,u(o))}}),o=>d(D,u(o)),()=>e(D));var R=l(V,2),F=a(R),I=a(F);{var M=o=>{var B=ri(),Q=a(B),$=a(Q);Te($),t(Q),t(B),L(o,B)};_e(I,o=>{e(p)&&o(M)})}var A=l(I);s(()=>_(A,` ${lr()??""}`)),t(F),t(R),t(x),s(()=>F.disabled=e(C)),ze("submit",x,c),L(n,x),xe()}const ni=()=>He((n,r)=>{r.length&&(Je(r),X("username",se(),()=>{Y(n.username).isNotBlank()}),X("active",se(),()=>{Y(n.active).isNotBlank()}))});function Ft(n,r,i){r.add(n.currentTarget.name),i()}var si=Z('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),di=Z('<form><div class="mb-2"><label for="username"> </label> <input type="text" name="username"> <!></div> <div><label for="active" class="m-0"> <input type="checkbox" name="active"></label> <!></div> <div class="flex flex-row justify-end"><button type="submit" class="btn primary flex flex-shrink"><!> </button></div></form>');function oi(n,r){ge(r,!0);let i=K(r,"user",15),v=m(u(i().username)),g=m(u(i().active)),y=ni(),k=m(u(y.get())),f=m(!1),E=q(()=>e(f)),b=q(()=>Ke(e(k),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const N=new Set,z=Ze(()=>{y({username:e(v),active:e(g)},Array.from(N)).done(P=>{d(k,u(P))}),N.clear()},300);function j(){var P;d(v,u((P=e(v))==null?void 0:P.trim())),N.add("username"),N.add("active"),z(),z.flush()}async function T(P){P.preventDefault();try{d(f,!0),j(),e(k).isValid()&&(i(await Se.updateUser(i().id,{username:e(v),active:e(g)},r.applicationId)),r.onEdit(i()))}catch(J){await qe(J)}finally{d(f,!1)}}dt(j);var U=di(),D=a(U),w=a(D),p=a(w,!0);s(()=>_(p,Mt())),t(w);var C=l(w,2);ae(C);const c=q(()=>`w-full ${e(b)("username")??""}`);s(()=>de(C,"placeholder",Lt())),C.__input=[Ft,N,z];var x=l(C,2);le(x,{name:"username",get result(){return e(k)}}),t(D);var V=l(D,2),R=a(V),F=a(R);s(()=>_(F,`${Rt()??""} `));var I=l(F);ae(I);const M=q(()=>nt(e(b)("active")));I.__input=[Ft,N,z],t(R);var A=l(R,2);le(A,{name:"active",get result(){return e(k)}}),t(V);var o=l(V,2),B=a(o),Q=a(B);{var $=P=>{var J=si(),ve=a(J),he=a(ve);Te(he),t(ve),t(J),L(P,J)};_e(Q,P=>{e(f)&&P($)})}var H=l(Q);s(()=>_(H,` ${nr()??""}`)),t(B),t(o),t(U),s(()=>{ie(C,e(c)),ie(I,e(M)),B.disabled=e(E)}),ze("submit",U,T),oe(C,()=>e(v),P=>d(v,P)),Ge(I,()=>e(g),P=>d(g,P)),L(n,U),xe()}we(["input"]);var ui=Z('<!> <hr class="my-2"> <!> <hr class="my-2"> <!>',1);function vi(n,r){let i=K(r,"user",15);var v=ui(),g=ye(v);oi(g,{get applicationId(){return r.applicationId},get onEdit(){return r.onEdit},get user(){return i()},set user(f){i(f)}});var y=l(g,4);Yr(y,{get applicationId(){return r.applicationId},get onEdit(){return r.onEdit},get user(){return i()},set user(f){i(f)}});var k=l(y,4);li(k,{get applicationId(){return r.applicationId},get onEdit(){return r.onEdit},get user(){return i()},set user(f){i(f)}}),L(n,v)}const Ot=20;var mi=Z('<button class="btn secondary icon lg"><!></button>'),_i=Z('<button class="flex cursor-pointer flex-row justify-between p-2 hover:bg-gray-200 dark:hover:bg-gray-600"><!><span class="ms-4"> </span></button> <button class="flex cursor-pointer flex-row justify-between p-2 hover:bg-gray-200 dark:hover:bg-gray-600"><!><span class="ms-4"> </span></button>',1),ci=Z('<tr class="group"><td> </td><td> </td><td><!></td><td> </td><td> </td><td class="flex justify-end"><div class="flex flex-shrink"><!></div></td></tr>'),fi=Z("<h3> </h3>"),bi=Z("<h3> </h3>"),pi=Z("<h3> </h3>"),gi=Z('<table class="table-auto w-full"><thead><tr class="text-left border-b"><th> </th><th> </th><th> </th><th> </th><th> </th><th></th></tr></thead><tbody></tbody></table> <!> <!> <!>',1);function xi(n,r){ge(r,!0);let i=K(r,"users",31,()=>u([])),v=m(0),g=m(!0),y=m(!1);dt(k);async function k(){if(!e(g)||e(y))return;let h;d(y,!0);try{h=await Se.allUsers(e(v)*Ot,Ot,r.applicationId)}finally{d(y,!1)}d(g,u(h.hasMore)),d(v,e(v)+1),i().push(...h.items)}let f=m(!1);function E(){d(f,!0)}function b(h){i().unshift(h),d(f,!1)}let N=m(void 0),z=m(!1);function j(h){return()=>{d(N,u(h)),d(z,!0)}}function T(h){const S=i().findIndex(O=>O.id===(h==null?void 0:h.id));S!==-1&&i(i()[S]=h,!0)}let U=m(void 0),D=m(!1);function w(h){return()=>{d(U,u(h)),d(D,!0)}}function p(){const h=i().findIndex(S=>{var O;return S.id===((O=e(U))==null?void 0:O.id)});h!==-1&&i().splice(h,1),d(U,void 0),d(D,!1)}var C=gi(),c=ye(C),x=a(c),V=a(x),R=a(V),F=a(R,!0);s(()=>_(F,or())),t(R);var I=l(R),M=a(I,!0);s(()=>_(M,ur())),t(I);var A=l(I),o=a(A,!0);s(()=>_(o,vr())),t(A);var B=l(A),Q=a(B,!0);s(()=>_(Q,mr())),t(B);var $=l(B),H=a($,!0);s(()=>_(H,_r())),t($),fa(),t(V),t(x);var P=l(x);Jt(P,23,i,h=>h.id,(h,S,O)=>{var W=ci(),ee=a(W),ke=a(ee,!0);t(ee);var ue=l(ee),G=a(ue,!0);t(ue);var te=l(ue),re=a(te);{var ne=fe=>{var me=Bt();s(()=>_(me,cr())),L(fe,me)},Ne=fe=>{var me=Bt();s(()=>_(me,fr())),L(fe,me)};_e(re,fe=>{e(S).active?fe(ne):fe(Ne,!1)})}t(te);var De=l(te),Ce=a(De,!0);s(()=>_(Ce,e(S).updatedAt.toLocaleString())),t(De);var je=l(De),ot=a(je,!0);s(()=>_(ot,e(S).createdAt.toLocaleString())),t(je);var Ie=l(je),et=a(Ie),ut=a(et);yr(ut,{position:"top-right",anchorPosition:"bottom-right",button:me=>{var Ue=mi(),Ve=a(Ue);Nr(Ve,{}),t(Ue),L(me,Ue)},children:(me,Ue)=>{var Ve=_i(),be=ye(Ve),vt=q(()=>j(e(S)));be.__click=function(...Ae){var Ee;(Ee=e(vt))==null||Ee.apply(this,Ae)};var tt=a(be);Kt(tt,{});var Qe=l(tt),We=a(Qe,!0);s(()=>_(We,br())),t(Qe),t(be);var Xe=l(be,2),Pe=q(()=>w(e(S)));Xe.__click=function(...Ae){var Ee;(Ee=e(Pe))==null||Ee.apply(this,Ae)};var at=a(Xe);Qt(at,{});var rt=l(at),Ye=a(rt,!0);s(()=>_(Ye,pr())),t(rt),t(Xe),L(me,Ve)},$$slots:{button:!0,default:!0}}),t(et),t(Ie),t(W),s(()=>{ht(W,"border-b",e(O)<i().length-1),_(ke,e(S).id),_(G,e(S).username)}),L(h,W)}),t(P),t(c);var J=l(c,2);lt(J,{get open(){return e(f)},set open(S){d(f,u(S))},title:S=>{var O=fi(),W=a(O,!0);s(()=>_(W,gr())),t(O),L(S,O)},children:(S,O)=>{Sr(S,{get applicationId(){return r.applicationId},onCreate:b})},$$slots:{title:!0,default:!0}});var ve=l(J,2);lt(ve,{get open(){return e(z)},set open(S){d(z,u(S))},title:S=>{var O=bi(),W=a(O,!0);s(()=>{var ee;return _(W,sr({username:((ee=e(N))==null?void 0:ee.username)||""}))}),t(O),L(S,O)},children:(S,O)=>{var W=xt(),ee=ye(W);{var ke=ue=>{vi(ue,{get applicationId(){return r.applicationId},get user(){return e(N)},onEdit:T})};_e(ee,ue=>{e(N)&&ue(ke)})}L(S,W)},$$slots:{title:!0,default:!0}});var he=l(ve,2);return lt(he,{get open(){return e(D)},set open(S){d(D,u(S))},title:S=>{var O=pi(),W=a(O,!0);s(()=>{var ee;return _(W,dr({username:((ee=e(U))==null?void 0:ee.username)||""}))}),t(O),L(S,O)},children:(S,O)=>{var W=xt(),ee=ye(W);{var ke=ue=>{zr(ue,{get applicationId(){return r.applicationId},get userId(){return e(U).id},get username(){return e(U).username},onDelete:p})};_e(ee,ue=>{e(U)&&ue(ke)})}L(S,W)},$$slots:{title:!0,default:!0}}),L(n,C),xe({loadMore:k,onCreate:E})}we(["click"]);var hi=Z('<div class="container mx-auto my-4"><div class="bg-white dark:bg-gray-800 shadow-lg p-4 rounded-lg"><div class="flex flex-grow justify-between"><a class="flex flex-row items-center"><button class="btn primary icon"><!></button> <span class="ms-2"> </span></a> <button class="btn primary icon lg"><!></button></div> <!></div></div>');function qi(n,r){ge(r,!0);let i=m(void 0);const v=wr(),[g,y]=v;var k=hi();pa(p=>{s(()=>ba.title=xr())});var f=a(k),E=a(f),b=a(E);s(()=>de(b,"href",g(`${kr}/`,void 0)));var N=a(b),z=a(N);Er(z,{}),t(N);var j=l(N,2),T=a(j,!0);s(()=>_(T,hr())),t(j),t(b);var U=l(b,2);U.__click=function(...p){var C,c;(c=(C=e(i))==null?void 0:C.onCreate)==null||c.apply(this,p)};var D=a(U);Wt(D,{}),t(U),t(E);var w=l(E,2);st(xi(w,{get applicationId(){return r.data.applicationId}}),p=>d(i,u(p)),()=>e(i)),t(f),t(k),L(n,k),xe()}we(["click"]);export{qi as component};
