import{f as O,a as R}from"../chunks/CeYbTvSz.js";import{p as se,b,F as j,c as a,t as D,g as e,a as le,$ as ie,s as p,G as E,h as n,r}from"../chunks/wkzzbBdv.js";import{d as ne,h as oe,i as ue,e as de,s as F}from"../chunks/D2HIu1zJ.js";import{d as L,b as T,r as U}from"../chunks/2O6vECAj.js";import{G as fe,d as ve,I as V,b as z,a as H,c as pe,e as _e,f as me,m as ce,C as S,g as J,v as A,h as he,i as be,j as ge,S as we}from"../chunks/CjhoWwqu.js";import"../chunks/CbLmej-R.js";import"../chunks/DgAY1fJe.js";import{g as xe}from"../chunks/C2GVKlbb.js";import{b as ye}from"../chunks/BiGx9tMp.js";import{a as K,s as $e}from"../chunks/BIi6zqi6.js";const qe=()=>fe((i={},o)=>{o.length&&(ce(o),S("url",J(),()=>{A(i.url).isNotBlank()}),S("url",he(),()=>{A(i.url).isURL({protocols:["http","https"],require_tld:!1,require_protocol:!0,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!1,allow_query_components:!1})}),S("tenant",J(),()=>{A(i.tenant).isNotBlank()}))});function M(i,o,l){o.add(i.currentTarget.name),l()}var ke=O('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),je=O('<div class="flex flex-grow flex-col justify-end p-4 sm:justify-start"><div class="card mx-auto my-10 flex w-full flex-shrink flex-col sm:w-72"><h1 class="mb-1"> </h1> <form><div class="mb-2"><input type="url" name="url"/> <!></div> <div class="mb-2"><input type="text" name="tenant"/> <!></div> <div class="flex flex-row justify-end"><button type="submit" class="btn primary flex flex-shrink"><!> </button></div></form></div></div>');function Fe(i,o){se(o,!0);let l=b(j(K.url||"")),u=b(j(K.tenant||"")),C=qe(),_=b(j(C.get())),m=b(!1),P=E(()=>e(m)),G=E(()=>be(e(_),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const d=new Set,c=ve(()=>{C({url:e(l),tenant:e(u)},Array.from(d)).done(t=>{n(_,t,!0)}),d.clear()},300);function Q(){d.add("url"),d.add("tenant"),c(),c.flush()}async function W(t){t.preventDefault();try{n(m,!0),n(l,e(l).trim(),!0),n(u,e(u).trim(),!0),Q(),e(_).isValid()&&(await $e({url:e(l),tenant:e(u)}),await xe(`${ye}/signin`))}catch(s){await ge(s)}finally{n(m,!1)}}var g=je();oe(t=>{D(s=>ie.title=s,[()=>H()])});var B=a(g),w=a(B),X=a(w,!0);r(w);var x=p(w,2),y=a(x),f=a(y);U(f),f.__input=[M,d,c];var Y=p(f,2);V(Y,{name:"url",get result(){return e(_)}}),r(y);var $=p(y,2),v=a($);U(v),v.__input=[M,d,c];var Z=p(v,2);V(Z,{name:"tenant",get result(){return e(_)}}),r($);var I=p($,2),q=a(I),N=a(q);{var ee=t=>{var s=ke(),h=a(s),k=a(h);we(k),r(h),r(s),R(t,s)};ue(N,t=>{e(m)&&t(ee)})}var te=p(N);r(q),r(I),r(x),r(B),r(g),D((t,s,h,k,ae,re)=>{F(X,t),L(f,1,`w-full ${s??""}`),T(f,"placeholder",h),L(v,1,`w-full ${k??""}`),T(v,"placeholder",ae),q.disabled=e(P),F(te,` ${re??""}`)},[()=>H(),()=>e(G)("url"),()=>pe(),()=>e(G)("tenant"),()=>_e(),()=>me()]),de("submit",x,W),z(f,()=>e(l),t=>n(l,t)),z(v,()=>e(u),t=>n(u,t)),R(i,g),le()}ne(["input"]);export{Fe as component};
