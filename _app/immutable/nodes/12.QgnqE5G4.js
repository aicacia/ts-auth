import{f as M,a as N}from"../chunks/CeYbTvSz.js";import{p as ae,b,F as re,c as a,t as q,g as e,a as se,h as l,$ as ie,s as m,G as D,r}from"../chunks/wkzzbBdv.js";import{d as le,h as ne,i as de,e as oe,s as E}from"../chunks/D2HIu1zJ.js";import{d as F,b as R,r as T}from"../chunks/2O6vECAj.js";import{G as ce,d as ue,I as V,b as z,k,l as ve,n as me,m as fe,C as H,g as J,v as K,i as pe,j as _e,S as he}from"../chunks/CjhoWwqu.js";import"../chunks/DgAY1fJe.js";import{g as be}from"../chunks/C2GVKlbb.js";import{b as ge}from"../chunks/BiGx9tMp.js";import{s as xe}from"../chunks/Buo9Rh-V.js";const we=()=>ce((n={},d)=>{d.length&&(fe(d),H("clientId",J(),()=>{K(n.clientId).isNotBlank()}),H("clientSecret",J(),()=>{K(n.clientSecret).isNotBlank()}))});function L(n,d,i){d.add(n.currentTarget.name),i()}var ye=M('<div class="mr-2 flex flex-row justify-center"><div class="inline-block h-6 w-6"><!></div></div>'),Se=M('<div class="flex flex-grow flex-col justify-end p-4 sm:justify-start"><div class="card mx-auto my-10 flex w-full flex-shrink flex-col sm:w-72"><h1 class="mb-1"> </h1> <form><div class="mb-2"><input type="text" name="clientId" autocomplete="username"/> <!></div> <div class="mb-2"><input type="password" name="clientSecret" autocomplete="current-password"/> <!></div> <div class="flex flex-row justify-end"><button type="submit" class="btn primary flex flex-shrink"><!> </button></div></form></div></div>');function qe(n,d){ae(d,!0);let i=b(""),o=b(""),j=we(),f=b(re(j.get())),p=b(!1),O=D(()=>e(p)),C=D(()=>pe(e(f),{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}));const c=new Set,_=ue(()=>{j({clientId:e(i),clientSecret:e(o)},Array.from(c)).done(t=>{l(f,t,!0)}),c.clear()},300);function P(){c.add("clientId"),c.add("clientSecret"),_(),_.flush()}async function Q(t){t.preventDefault();try{l(p,!0),l(i,e(i).trim(),!0),l(o,e(o).trim(),!0),P(),e(f).isValid()&&(await xe(e(i),e(o)),await be(`${ge}/`))}catch(s){await _e(s)}finally{l(p,!1)}}var g=Se();ne(t=>{q(s=>ie.title=s,[()=>k()])});var G=a(g),x=a(G),U=a(x,!0);r(x);var w=m(x,2),y=a(w),u=a(y);T(u),u.__input=[L,c,_];var W=m(u,2);V(W,{name:"clientId",get result(){return e(f)}}),r(y);var S=m(y,2),v=a(S);T(v),v.__input=[L,c,_];var X=m(v,2);V(X,{name:"clientSecret",get result(){return e(f)}}),r(S);var A=m(S,2),I=a(A),B=a(I);{var Y=t=>{var s=ye(),h=a(s),$=a(h);he($),r(h),r(s),N(t,s)};de(B,t=>{e(p)&&t(Y)})}var Z=m(B);r(I),r(A),r(w),r(G),r(g),q((t,s,h,$,ee,te)=>{E(U,t),F(u,1,`w-full ${s??""}`),R(u,"placeholder",h),F(v,1,`w-full ${$??""}`),R(v,"placeholder",ee),I.disabled=e(O),E(Z,` ${te??""}`)},[()=>k(),()=>e(C)("clientId"),()=>ve(),()=>e(C)("clientSecret"),()=>me(),()=>k()]),oe("submit",w,Q),z(u,()=>e(i),t=>l(i,t)),z(v,()=>e(o),t=>l(o,t)),N(n,g),se()}le(["input"]);export{qe as component};
