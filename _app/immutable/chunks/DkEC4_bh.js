const g="en",i=["en"],c=["preferredLanguage","baseLocale"];globalThis.__paraglide={};let s=!1,u=()=>{let e;for(const t of c)if(t==="baseLocale"?e=g:t==="preferredLanguage"?e=p():f(t)&&r.has(t)&&(e=r.get(t).getLocale()),e!==void 0){const a=L(e);return s||(s=!0,d(a,{reload:!1})),a}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},d=(e,t)=>{const a={reload:!0,...t};let l;try{l=u()}catch{}for(const o of c)o!=="baseLocale"&&f(o)&&r.has(o)&&r.get(o).setLocale(e);a.reload&&window.location&&e!==l&&window.location.reload()},h=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function n(e){return e?i.includes(e):!1}function L(e){if(n(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${i.join(", ")}`);return e}function p(){if(!navigator?.languages?.length)return;const e=navigator.languages.map(t=>({fullTag:t.toLowerCase(),baseTag:t.split("-")[0]?.toLowerCase()}));for(const t of e){if(n(t.fullTag))return t.fullTag;if(n(t.baseTag))return t.baseTag}}function m(e){return w(e)}function w(e){const t=typeof e=="string"?new URL(e,h()):new URL(e),a=t.pathname.split("/").filter(Boolean);return a.length>0&&n(a[0])&&(t.pathname="/"+a.slice(1).join("/")),t}const r=new Map;function f(e){return typeof e=="string"&&/^custom-[A-Za-z0-9]+$/.test(e)}export{m as d,u as g};
