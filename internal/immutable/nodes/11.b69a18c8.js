import{r as ye}from"../chunks/index.d7eb2526.js";import{b as ve}from"../chunks/paths.e2bce217.js";import{c as Ce}from"../chunks/notifications.a2f93f53.js";import{l as Ie,r as Se}from"../chunks/scheduler.281724f8.js";import{S as ke,i as Ee,s as k,g as f,r as Z,m as Te,I as Ve,f as g,c as E,h as d,j as T,G as $e,u as x,n as De,k as t,a as _e,C as a,J as A,v as ee,D as U,K as Ne,d as H,t as z,b as Pe,w as te,p as Ue}from"../chunks/index.2ae88f8a.js";import{I as oe,d as je,i as qe,S as Be,K as Me,V as Oe,v as X,w as Y}from"../chunks/Spinner.02976e77.js";import{g as Ae}from"../chunks/navigation.b34101f3.js";import{k as He}from"../chunks/user.e091a7a6.js";import{h as Ke}from"../chunks/errors.06c64ea6.js";const ze=async e=>{const{signUpMethods:r}=await e.parent();if(!r.enabled)throw Ce("Sign up is not enabled"),ye(302,`${ve}/signin`);return{signUpMethods:r}},tt=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));function be(e){let r,n,l,v;return l=new Be({}),{c(){r=f("div"),n=f("div"),Z(l.$$.fragment),this.h()},l(w){r=d(w,"DIV",{class:!0});var $=T(r);n=d($,"DIV",{class:!0});var c=T(n);x(l.$$.fragment,c),c.forEach(g),$.forEach(g),this.h()},h(){t(n,"class","inline-block w-6 h-6"),t(r,"class","flex flex-row justify-center mr-2")},m(w,$){_e(w,r,$),a(r,n),ee(l,n,null),v=!0},i(w){v||(H(l.$$.fragment,w),v=!0)},o(w){z(l.$$.fragment,w),v=!1},d(w){w&&g(r),te(l)}}}function Le(e){let r,n,l,v,w="Sign in",$,c,j=`<span>Already a member?</span> <a href="${`${ve}/signin`}" class="underline text-blue-500">Sign in</a>`,D,i,m,u,L,G,C,J,V,h,R,Q,_,ue,q,b,se,pe,B,me,M,y,ae,fe,O,de,F,S,ne,N,ce,we;C=new oe({props:{name:"email",result:e[0]}}),_=new oe({props:{name:"username",result:e[0]}}),B=new oe({props:{name:"password",result:e[0]}}),O=new oe({props:{name:"passwordConfirmation",result:e[0]}});let o=e[1]&&be();return{c(){r=k(),n=f("div"),l=f("div"),v=f("h1"),v.textContent=w,$=k(),c=f("p"),c.innerHTML=j,D=k(),i=f("form"),m=f("div"),u=f("input"),G=k(),Z(C.$$.fragment),J=k(),V=f("div"),h=f("input"),Q=k(),Z(_.$$.fragment),ue=k(),q=f("div"),b=f("input"),pe=k(),Z(B.$$.fragment),me=k(),M=f("div"),y=f("input"),fe=k(),Z(O.$$.fragment),de=k(),F=f("div"),S=f("button"),o&&o.c(),ne=Te(`
					Sign up`),this.h()},l(s){Ve("svelte-10iwm6u",document.head).forEach(g),r=E(s),n=d(s,"DIV",{class:!0});var W=T(n);l=d(W,"DIV",{class:!0});var P=T(l);v=d(P,"H1",{class:!0,"data-svelte-h":!0}),$e(v)!=="svelte-8d2tmk"&&(v.textContent=w),$=E(P),c=d(P,"P",{class:!0,"data-svelte-h":!0}),$e(c)!=="svelte-462v3q"&&(c.innerHTML=j),D=E(P),i=d(P,"FORM",{});var I=T(i);m=d(I,"DIV",{class:!0});var K=T(m);u=d(K,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),G=E(K),x(C.$$.fragment,K),K.forEach(g),J=E(I),V=d(I,"DIV",{class:!0});var re=T(V);h=d(re,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),Q=E(re),x(_.$$.fragment,re),re.forEach(g),ue=E(I),q=d(I,"DIV",{class:!0});var le=T(q);b=d(le,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),pe=E(le),x(B.$$.fragment,le),le.forEach(g),me=E(I),M=d(I,"DIV",{class:!0});var ie=T(M);y=d(ie,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),fe=E(ie),x(O.$$.fragment,ie),ie.forEach(g),de=E(I),F=d(I,"DIV",{class:!0});var ge=T(F);S=d(ge,"BUTTON",{type:!0,class:!0});var he=T(S);o&&o.l(he),ne=De(he,`
					Sign up`),he.forEach(g),ge.forEach(g),I.forEach(g),P.forEach(g),W.forEach(g),this.h()},h(){document.title="Sign up",t(v,"class","mb-1"),t(c,"class","py-2"),t(u,"class",L="w-full "+e[6]("email")),t(u,"type","email"),t(u,"name","email"),t(u,"autocomplete","email"),t(u,"placeholder","Email"),t(m,"class","mb-2"),t(h,"class",R="w-full "+e[6]("username")),t(h,"type","text"),t(h,"name","username"),t(h,"autocomplete","username"),t(h,"placeholder","Username"),t(V,"class","mb-2"),t(b,"class",se="w-full "+e[6]("password")),t(b,"type","password"),t(b,"name","password"),t(b,"autocomplete","new-password"),t(b,"placeholder","Password"),t(q,"class","mb-2"),t(y,"class",ae="w-full "+e[6]("passwordConfirmation")),t(y,"type","password"),t(y,"name","passwordConfirmation"),t(y,"autocomplete","new-password"),t(y,"placeholder","Password Confirmation"),t(M,"class","mb-2"),t(S,"type","submit"),t(S,"class","btn primary flex flex-shrink"),S.disabled=e[7],t(F,"class","flex flex-row justify-end"),t(l,"class","flex flex-col flex-shrink md:w-72 w-full mx-auto my-10 bg-white dark:bg-gray-800 shadow p-4"),t(n,"class","flex flex-col flex-grow justify-end md:justify-start")},m(s,p){_e(s,r,p),_e(s,n,p),a(n,l),a(l,v),a(l,$),a(l,c),a(l,D),a(l,i),a(i,m),a(m,u),A(u,e[3]),a(m,G),ee(C,m,null),a(i,J),a(i,V),a(V,h),A(h,e[2]),a(V,Q),ee(_,V,null),a(i,ue),a(i,q),a(q,b),A(b,e[4]),a(q,pe),ee(B,q,null),a(i,me),a(i,M),a(M,y),A(y,e[5]),a(M,fe),ee(O,M,null),a(i,de),a(i,F),a(F,S),o&&o.m(S,null),a(S,ne),N=!0,ce||(we=[U(u,"input",e[10]),U(u,"input",e[8]),U(h,"input",e[11]),U(h,"input",e[8]),U(b,"input",e[12]),U(b,"input",e[8]),U(y,"input",e[13]),U(y,"input",e[8]),U(i,"submit",Ne(e[9]))],ce=!0)},p(s,[p]){(!N||p&64&&L!==(L="w-full "+s[6]("email")))&&t(u,"class",L),p&8&&u.value!==s[3]&&A(u,s[3]);const W={};p&1&&(W.result=s[0]),C.$set(W),(!N||p&64&&R!==(R="w-full "+s[6]("username")))&&t(h,"class",R),p&4&&h.value!==s[2]&&A(h,s[2]);const P={};p&1&&(P.result=s[0]),_.$set(P),(!N||p&64&&se!==(se="w-full "+s[6]("password")))&&t(b,"class",se),p&16&&b.value!==s[4]&&A(b,s[4]);const I={};p&1&&(I.result=s[0]),B.$set(I),(!N||p&64&&ae!==(ae="w-full "+s[6]("passwordConfirmation")))&&t(y,"class",ae),p&32&&y.value!==s[5]&&A(y,s[5]);const K={};p&1&&(K.result=s[0]),O.$set(K),s[1]?o?p&2&&H(o,1):(o=be(),o.c(),H(o,1),o.m(S,ne)):o&&(Ue(),z(o,1,1,()=>{o=null}),Pe()),(!N||p&128)&&(S.disabled=s[7])},i(s){N||(H(C.$$.fragment,s),H(_.$$.fragment,s),H(B.$$.fragment,s),H(O.$$.fragment,s),H(o),N=!0)},o(s){z(C.$$.fragment,s),z(_.$$.fragment,s),z(B.$$.fragment,s),z(O.$$.fragment,s),z(o),N=!1},d(s){s&&(g(r),g(n)),te(C),te(_),te(B),te(O),o&&o.d(),ce=!1,Se(we)}}}const Re=()=>Me((e={},r)=>{r.size&&(Oe(Array.from(r)),X("email","required",()=>{Y(e.email).isNotBlank()}),X("username","required",()=>{Y(e.username).isNotBlank()}),X("password","required",()=>{Y(e.password).isNotBlank()}),X("passwordConfirmation","required",()=>{Y(e.passwordConfirmation).isNotBlank()}),X("passwordConfirmation","password_confirmation_mismatch",()=>{Y(e.passwordConfirmation).equals(e.password)}))});function Fe(e,r,n){let l,v;const w=Re();let $="",c="",j="",D="",i=w.get();const m=new Set,u=je(()=>{w({username:$,password:j,passwordConfirmation:D,email:c},m).done(_=>{n(0,i=_)}),m.clear()},300);function L(){m.add("username"),m.add("password"),m.add("passwordConfirmation"),m.add("email"),m.add("countryId"),u(),u.flush()}function G(_){_.currentTarget.value=_.currentTarget.value.trim(),m.add(_.currentTarget.name),u()}let C=!1;async function J(){try{n(1,C=!0),L(),i.isValid()&&(await He($,j,D,c),await Ae(`${ve}/`))}catch(_){await Ke(_)}finally{n(1,C=!1)}}function V(){c=this.value,n(3,c)}function h(){$=this.value,n(2,$)}function R(){j=this.value,n(4,j)}function Q(){D=this.value,n(5,D)}return e.$$.update=()=>{e.$$.dirty&2&&n(7,l=C),e.$$.dirty&1&&n(6,v=qe(i,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[i,C,$,c,j,D,v,l,G,J,V,h,R,Q]}class st extends ke{constructor(r){super(),Ee(this,r,Fe,Le,Ie,{})}}export{st as component,tt as universal};
