import{a as lt}from"../chunks/index.53183eaa.js";import{k as nt,l as ot}from"../chunks/scheduler.1587348c.js";import{S as st,i as it,s as L,g as f,r as tt,I as ct,f as h,c as S,h as _,j as v,u as et,G as ut,k as g,a as G,C as s,J as K,v as at,D as dt,b as ht,d as J,t as Y,w as rt,m as V,n as q,B as F,o as R,p as ft}from"../chunks/index.1e570738.js";import{e as Q,u as _t,o as pt}from"../chunks/each.4aed8223.js";import{w as mt}from"../chunks/index.35df97eb.js";import{b as W}from"../chunks/paths.4509113d.js";import{P as gt}from"../chunks/pencil.2c400838.js";import{P as vt}from"../chunks/plus.12aad0c5.js";const bt=async i=>{const{user:a}=await i.parent(),t=await lt.index();return{user:a,pagination:t}},Ct=Object.freeze(Object.defineProperty({__proto__:null,load:bt},Symbol.toStringTag,{value:"Module"}));function wt(i,a,t=!1){const l=a.length,o=i.length;return o>l?!1:yt(t!==!0?i.toLowerCase():i,o,t!==!0?a.toLowerCase():a,l)}function yt(i,a,t,l){let o=0,c=0;t:for(;o<a;){const b=i.charAt(o++);for(;c<l;)if(t.charAt(c++)===b)continue t;return!1}return!0}function X(i,a,t){const l=i.slice();l[6]=a[t],l[9]=t;const o=l[2].has(l[6].id);return l[7]=o,l}function Z(i,a){let t,l,o=a[6].id+"",c,b,p,u=a[6].name+"",E,C,A,m=a[6].created_at.toLocaleString()+"",T,B,P,w=a[6].updated_at.toLocaleString()+"",d,H,k,y,$,D,M,e;return $=new gt({}),{key:i,first:null,c(){t=f("tr"),l=f("td"),c=V(o),b=L(),p=f("td"),E=V(u),C=L(),A=f("td"),T=V(m),B=L(),P=f("td"),d=V(w),H=L(),k=f("td"),y=f("a"),tt($.$$.fragment),M=L(),this.h()},l(r){t=_(r,"TR",{class:!0});var n=v(t);l=_(n,"TD",{});var j=v(l);c=q(j,o),j.forEach(h),b=S(n),p=_(n,"TD",{});var I=v(p);E=q(I,u),I.forEach(h),C=S(n),A=_(n,"TD",{});var N=v(A);T=q(N,m),N.forEach(h),B=S(n),P=_(n,"TD",{});var z=v(P);d=q(z,w),z.forEach(h),H=S(n),k=_(n,"TD",{class:!0});var U=v(k);y=_(U,"A",{class:!0,href:!0});var O=v(y);et($.$$.fragment,O),O.forEach(h),U.forEach(h),M=S(n),n.forEach(h),this.h()},h(){g(y,"class","btn primary icon inline-block"),g(y,"href",D=`${W}/applications/${a[6].id}`),g(k,"class","flex flex-row justify-end transition-opacity opacity-0 group-hover:opacity-100"),g(t,"class","group"),F(t,"border-b",a[9]<a[0].length-1),F(t,"hidden",a[7]),this.first=t},m(r,n){G(r,t,n),s(t,l),s(l,c),s(t,b),s(t,p),s(p,E),s(t,C),s(t,A),s(A,T),s(t,B),s(t,P),s(P,d),s(t,H),s(t,k),s(k,y),at($,y,null),s(t,M),e=!0},p(r,n){a=r,(!e||n&1)&&o!==(o=a[6].id+"")&&R(c,o),(!e||n&1)&&u!==(u=a[6].name+"")&&R(E,u),(!e||n&1)&&m!==(m=a[6].created_at.toLocaleString()+"")&&R(T,m),(!e||n&1)&&w!==(w=a[6].updated_at.toLocaleString()+"")&&R(d,w),(!e||n&1&&D!==(D=`${W}/applications/${a[6].id}`))&&g(y,"href",D),(!e||n&1)&&F(t,"border-b",a[9]<a[0].length-1),(!e||n&5)&&F(t,"hidden",a[7])},i(r){e||(J($.$$.fragment,r),e=!0)},o(r){Y($.$$.fragment,r),e=!1},d(r){r&&h(t),rt($)}}}function Et(i){let a,t,l,o,c,b,p,u,E,C,A,m,T,B='<tr class="text-left border-b"><th class="">Id</th> <th>Name</th> <th>Created</th> <th>Updated</th> <th></th></tr>',P,w,d=[],H=new Map,k,y,$;u=new vt({});let D=Q(i[0]);const M=e=>e[6].id;for(let e=0;e<D.length;e+=1){let r=X(i,D,e),n=M(r);H.set(n,d[e]=Z(n,r))}return{c(){a=L(),t=f("div"),l=f("div"),o=f("div"),c=f("input"),b=L(),p=f("button"),tt(u.$$.fragment),E=L(),C=f("hr"),A=L(),m=f("table"),T=f("thead"),T.innerHTML=B,P=L(),w=f("tbody");for(let e=0;e<d.length;e+=1)d[e].c();this.h()},l(e){ct("svelte-8sap83",document.head).forEach(h),a=S(e),t=_(e,"DIV",{class:!0});var n=v(t);l=_(n,"DIV",{class:!0});var j=v(l);o=_(j,"DIV",{class:!0});var I=v(o);c=_(I,"INPUT",{type:!0,placeholder:!0}),b=S(I),p=_(I,"BUTTON",{class:!0});var N=v(p);et(u.$$.fragment,N),N.forEach(h),I.forEach(h),E=S(j),C=_(j,"HR",{class:!0}),A=S(j),m=_(j,"TABLE",{class:!0});var z=v(m);T=_(z,"THEAD",{"data-svelte-h":!0}),ut(T)!=="svelte-12ruu0t"&&(T.innerHTML=B),P=S(z),w=_(z,"TBODY",{});var U=v(w);for(let O=0;O<d.length;O+=1)d[O].l(U);U.forEach(h),z.forEach(h),j.forEach(h),n.forEach(h),this.h()},h(){document.title="Applications",g(c,"type","text"),g(c,"placeholder","Filter.."),g(p,"class","btn primary icon"),g(o,"class","flex flex-row flex-grow justify-between"),g(C,"class","my-1"),g(m,"class","table-auto w-full"),g(l,"class","bg-white dark:bg-gray-800 shadow p-4"),g(t,"class","container mx-auto my-4")},m(e,r){G(e,a,r),G(e,t,r),s(t,l),s(l,o),s(o,c),K(c,i[1]),s(o,b),s(o,p),at(u,p,null),s(l,E),s(l,C),s(l,A),s(l,m),s(m,T),s(m,P),s(m,w);for(let n=0;n<d.length;n+=1)d[n]&&d[n].m(w,null);k=!0,y||($=dt(c,"input",i[4]),y=!0)},p(e,[r]){r&2&&c.value!==e[1]&&K(c,e[1]),r&5&&(D=Q(e[0]),ft(),d=_t(d,r,M,1,e,D,H,w,pt,Z,null,X),ht())},i(e){if(!k){J(u.$$.fragment,e);for(let r=0;r<D.length;r+=1)J(d[r]);k=!0}},o(e){Y(u.$$.fragment,e);for(let r=0;r<d.length;r+=1)Y(d[r]);k=!1},d(e){e&&(h(a),h(t)),rt(u);for(let r=0;r<d.length;r+=1)d[r].d();y=!1,$()}}}let x=mt("");function Tt(i,a,t){let l,o;ot(i,x,u=>t(1,o=u));let{data:c}=a;c.pagination.has_more;let b=new Set;function p(){o=this.value,x.set(o)}return i.$$set=u=>{"data"in u&&t(3,c=u.data)},i.$$.update=()=>{i.$$.dirty&8&&t(0,l=c.pagination.data),i.$$.dirty&3&&t(2,b=o.length?l.reduce((u,E)=>(wt(o,E.name)||u.add(E.id),u),new Set):new Set)},[l,o,b,c,p]}class It extends st{constructor(a){super(),it(this,a,Tt,Et,nt,{data:3})}}export{It as component,Ct as universal};
