import{b as ft}from"../chunks/index.6dc2cd99.js";import{k as ht,b as pt,p as _t,r as mt,l as gt,n as dt}from"../chunks/scheduler.0fc17c76.js";import{S as bt,i as vt,H as $t,s as T,g as h,r as x,I as wt,f as c,c as D,h as p,j as $,u as tt,G as ct,k as w,a as Q,C as s,J as nt,v as et,D as lt,b as Et,d as W,t as X,w as at,m as J,n as Y,B as Z,o as K,p as yt}from"../chunks/index.734baa98.js";import{e as rt,u as kt,o as Tt}from"../chunks/each.a7fc62a0.js";import{w as Dt}from"../chunks/singletons.b58d624b.js";import{b as ot}from"../chunks/paths.41c4970f.js";import{P as At}from"../chunks/pencil.4fdcd005.js";import{P as Ct}from"../chunks/plus.906b1819.js";import{M as Lt}from"../chunks/Modal.73a80218.js";import{A as St}from"../chunks/ApplicationEditor.5daa82e5.js";const It=async o=>{const{user:e}=await o.parent(),t=await ft.index();return{user:e,pagination:t}},Kt=Object.freeze(Object.defineProperty({__proto__:null,load:It},Symbol.toStringTag,{value:"Module"}));function Pt(o,e,t=!1){const n=e.length,r=o.length;return r>n?!1:jt(t!==!0?o.toLowerCase():o,r,t!==!0?e.toLowerCase():e,n)}function jt(o,e,t,n){let r=0,u=0;t:for(;r<e;){const y=o.charAt(r++);for(;u<n;)if(t.charAt(u++)===y)continue t;return!1}return!0}function st(o,e,t){const n=o.slice();n[10]=e[t],n[13]=t;const r=n[2].has(n[10].id);return n[11]=r,n}function it(o,e){let t,n,r=e[10].id+"",u,y,f,m=e[10].name+"",L,S,A,i=e[10].uri+"",v,N,j,k=e[10].created_at.toLocaleString()+"",d,R,I,g=e[10].updated_at.toLocaleString()+"",H,M,P,C,E,O,q,b;return E=new At({}),{key:o,first:null,c(){t=h("tr"),n=h("td"),u=J(r),y=T(),f=h("td"),L=J(m),S=T(),A=h("td"),v=J(i),N=T(),j=h("td"),d=J(k),R=T(),I=h("td"),H=J(g),M=T(),P=h("td"),C=h("a"),x(E.$$.fragment),q=T(),this.h()},l(l){t=p(l,"TR",{class:!0});var a=$(t);n=p(a,"TD",{});var _=$(n);u=Y(_,r),_.forEach(c),y=D(a),f=p(a,"TD",{});var z=$(f);L=Y(z,m),z.forEach(c),S=D(a),A=p(a,"TD",{});var B=$(A);v=Y(B,i),B.forEach(c),N=D(a),j=p(a,"TD",{});var F=$(j);d=Y(F,k),F.forEach(c),R=D(a),I=p(a,"TD",{});var U=$(I);H=Y(U,g),U.forEach(c),M=D(a),P=p(a,"TD",{class:!0});var G=$(P);C=p(G,"A",{class:!0,href:!0});var V=$(C);tt(E.$$.fragment,V),V.forEach(c),G.forEach(c),q=D(a),a.forEach(c),this.h()},h(){w(C,"class","btn primary icon inline-block"),w(C,"href",O=`${ot}/applications/${e[10].id}`),w(P,"class","flex flex-row justify-end transition-opacity opacity-0 group-hover:opacity-100"),w(t,"class","group"),Z(t,"border-b",e[13]<e[0].length-1),Z(t,"hidden",e[11]),this.first=t},m(l,a){Q(l,t,a),s(t,n),s(n,u),s(t,y),s(t,f),s(f,L),s(t,S),s(t,A),s(A,v),s(t,N),s(t,j),s(j,d),s(t,R),s(t,I),s(I,H),s(t,M),s(t,P),s(P,C),et(E,C,null),s(t,q),b=!0},p(l,a){e=l,(!b||a&1)&&r!==(r=e[10].id+"")&&K(u,r),(!b||a&1)&&m!==(m=e[10].name+"")&&K(L,m),(!b||a&1)&&i!==(i=e[10].uri+"")&&K(v,i),(!b||a&1)&&k!==(k=e[10].created_at.toLocaleString()+"")&&K(d,k),(!b||a&1)&&g!==(g=e[10].updated_at.toLocaleString()+"")&&K(H,g),(!b||a&1&&O!==(O=`${ot}/applications/${e[10].id}`))&&w(C,"href",O),(!b||a&1)&&Z(t,"border-b",e[13]<e[0].length-1),(!b||a&5)&&Z(t,"hidden",e[11])},i(l){b||(W(E.$$.fragment,l),b=!0)},o(l){X(E.$$.fragment,l),b=!1},d(l){l&&c(t),at(E)}}}function zt(o){let e,t;return e=new St({props:{onDone:o[5]}}),{c(){x(e.$$.fragment)},l(n){tt(e.$$.fragment,n)},m(n,r){et(e,n,r),t=!0},p:dt,i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){at(e,n)}}}function Ht(o){let e,t="Create Application";return{c(){e=h("h4"),e.textContent=t,this.h()},l(n){e=p(n,"H4",{slot:!0,"data-svelte-h":!0}),ct(e)!=="svelte-amuxsz"&&(e.textContent=t),this.h()},h(){w(e,"slot","title")},m(n,r){Q(n,e,r)},p:dt,d(n){n&&c(e)}}}function Mt(o){let e,t,n,r,u,y,f,m,L,S,A,i,v,N='<tr class="text-left border-b"><th class="">Id</th> <th>Name</th> <th>URI</th> <th>Created</th> <th>Updated</th> <th></th></tr>',j,k,d=[],R=new Map,I,g,H,M,P,C;m=new Ct({});let E=rt(o[0]);const O=l=>l[10].id;for(let l=0;l<E.length;l+=1){let a=st(o,E,l),_=O(a);R.set(_,d[l]=it(_,a))}function q(l){o[8](l)}let b={$$slots:{title:[Ht],default:[zt]},$$scope:{ctx:o}};return o[3]!==void 0&&(b.open=o[3]),g=new Lt({props:b}),pt.push(()=>$t(g,"open",q)),{c(){e=T(),t=h("div"),n=h("div"),r=h("div"),u=h("input"),y=T(),f=h("button"),x(m.$$.fragment),L=T(),S=h("hr"),A=T(),i=h("table"),v=h("thead"),v.innerHTML=N,j=T(),k=h("tbody");for(let l=0;l<d.length;l+=1)d[l].c();I=T(),x(g.$$.fragment),this.h()},l(l){wt("svelte-8sap83",document.head).forEach(c),e=D(l),t=p(l,"DIV",{class:!0});var _=$(t);n=p(_,"DIV",{class:!0});var z=$(n);r=p(z,"DIV",{class:!0});var B=$(r);u=p(B,"INPUT",{type:!0,placeholder:!0}),y=D(B),f=p(B,"BUTTON",{class:!0});var F=$(f);tt(m.$$.fragment,F),F.forEach(c),B.forEach(c),L=D(z),S=p(z,"HR",{class:!0}),A=D(z),i=p(z,"TABLE",{class:!0});var U=$(i);v=p(U,"THEAD",{"data-svelte-h":!0}),ct(v)!=="svelte-1ncui65"&&(v.innerHTML=N),j=D(U),k=p(U,"TBODY",{});var G=$(k);for(let V=0;V<d.length;V+=1)d[V].l(G);G.forEach(c),U.forEach(c),z.forEach(c),_.forEach(c),I=D(l),tt(g.$$.fragment,l),this.h()},h(){document.title="Applications",w(u,"type","text"),w(u,"placeholder","Filter.."),w(f,"class","btn primary icon"),w(r,"class","flex flex-row flex-grow justify-between"),w(S,"class","my-1"),w(i,"class","table-auto w-full"),w(n,"class","bg-white dark:bg-gray-800 shadow p-4"),w(t,"class","container mx-auto my-4")},m(l,a){Q(l,e,a),Q(l,t,a),s(t,n),s(n,r),s(r,u),nt(u,o[1]),s(r,y),s(r,f),et(m,f,null),s(n,L),s(n,S),s(n,A),s(n,i),s(i,v),s(i,j),s(i,k);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(k,null);Q(l,I,a),et(g,l,a),M=!0,P||(C=[lt(u,"input",o[7]),lt(f,"click",o[4])],P=!0)},p(l,[a]){a&2&&u.value!==l[1]&&nt(u,l[1]),a&5&&(E=rt(l[0]),yt(),d=kt(d,a,O,1,l,E,R,k,Tt,it,null,st),Et());const _={};a&16384&&(_.$$scope={dirty:a,ctx:l}),!H&&a&8&&(H=!0,_.open=l[3],_t(()=>H=!1)),g.$set(_)},i(l){if(!M){W(m.$$.fragment,l);for(let a=0;a<E.length;a+=1)W(d[a]);W(g.$$.fragment,l),M=!0}},o(l){X(m.$$.fragment,l);for(let a=0;a<d.length;a+=1)X(d[a]);X(g.$$.fragment,l),M=!1},d(l){l&&(c(e),c(t),c(I)),at(m);for(let a=0;a<d.length;a+=1)d[a].d();at(g,l),P=!1,mt(C)}}}let ut=Dt("");function Ot(o,e,t){let n,r;gt(o,ut,i=>t(1,r=i));let{data:u}=e;u.pagination.has_more;let y=new Set,f=!1;function m(){t(3,f=!0)}function L(i){t(0,n=[i,...n]),t(3,f=!1)}function S(){r=this.value,ut.set(r)}function A(i){f=i,t(3,f)}return o.$$set=i=>{"data"in i&&t(6,u=i.data)},o.$$.update=()=>{o.$$.dirty&64&&t(0,n=u.pagination.data),o.$$.dirty&3&&t(2,y=r.length?n.reduce((i,v)=>(Pt(r,v.name)||i.add(v.id),i),new Set):new Set)},[n,r,y,f,m,L,u,S,A]}class Qt extends bt{constructor(e){super(),vt(this,e,Ot,Mt,ht,{data:6})}}export{Qt as component,Kt as universal};
