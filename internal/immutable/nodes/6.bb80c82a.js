import{a as fe}from"../chunks/index.480a3f55.js";import{k as ce,r as de,s as me,e as G,f as te,g as pe,u as _e,h as he,j as ge,b as ae,p as oe}from"../chunks/scheduler.1587348c.js";import{S as ne,i as le,g as b,s as x,r as P,h as $,j as I,G as Ee,c as q,u as H,f as d,k as o,a as K,C as _,J as ee,v as z,D as W,K as re,d as U,p as Ie,t as S,b as Ue,w as F,m as ve,n as we,H as ue,I as Ke,o as We}from"../chunks/index.1e570738.js";import{b as Ge}from"../chunks/paths.9fe61c8a.js";import{I as Ne,d as Ae,i as Ce,S as Te,K as Be,V as Le,v as De,w as Se}from"../chunks/Spinner.55af249c.js";import{h as Re}from"../chunks/errors.491dcf1d.js";import{I as be,g as $e,a as ye}from"../chunks/Icon.9bc2a10a.js";import{f as Ze}from"../chunks/notifications.f5ca8515.js";const Qe=async r=>{const{user:e}=await r.parent(),l=parseInt(r.params.application_id),n=await fe.show(l),i=(await fe.config(l)).reduce((t,s)=>(t[s.key]=s,t),{});return{user:e,application:n,configs:i}},an=Object.freeze(Object.defineProperty({__proto__:null,load:Qe},Symbol.toStringTag,{value:"Module"}));function qe(r){let e,l,n,i;return n=new Te({}),{c(){e=b("div"),l=b("div"),P(n.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var s=I(e);l=$(s,"DIV",{class:!0});var a=I(l);H(n.$$.fragment,a),a.forEach(d),s.forEach(d),this.h()},h(){o(l,"class","inline-block w-6 h-6"),o(e,"class","flex flex-row justify-center mr-2")},m(t,s){K(t,e,s),_(e,l),z(n,l,null),i=!0},i(t){i||(U(n.$$.fragment,t),i=!0)},o(t){S(n.$$.fragment,t),i=!1},d(t){t&&d(e),F(n)}}}function Xe(r){let e;return{c(){e=ve("Update")},l(l){e=we(l,"Update")},m(l,n){K(l,e,n)},d(l){l&&d(e)}}}function Ye(r){let e;return{c(){e=ve("Create")},l(l){e=we(l,"Create")},m(l,n){K(l,e,n)},d(l){l&&d(e)}}}function et(r){let e,l,n,i="Name",t,s,a,g,m,y,c,v,k="URL Safe Short Name",N,h,V,L,w,E,p,u,f,j,D,R;m=new Ne({props:{name:"name",result:r[3]}}),w=new Ne({props:{name:"uri",result:r[3]}});let C=r[4]&&qe();function X(A,M){return A[2]==null?Ye:Xe}let Z=X(r),O=Z(r);return{c(){e=b("form"),l=b("div"),n=b("label"),n.textContent=i,t=x(),s=b("input"),g=x(),P(m.$$.fragment),y=x(),c=b("div"),v=b("label"),v.textContent=k,N=x(),h=b("input"),L=x(),P(w.$$.fragment),E=x(),p=b("div"),u=b("button"),C&&C.c(),f=x(),O.c(),this.h()},l(A){e=$(A,"FORM",{class:!0});var M=I(e);l=$(M,"DIV",{class:!0});var Q=I(l);n=$(Q,"LABEL",{for:!0,"data-svelte-h":!0}),Ee(n)!=="svelte-19zvblj"&&(n.textContent=i),t=q(Q),s=$(Q,"INPUT",{id:!0,class:!0,type:!0,name:!0,placeholder:!0}),g=q(Q),H(m.$$.fragment,Q),Q.forEach(d),y=q(M),c=$(M,"DIV",{class:!0});var T=I(c);v=$(T,"LABEL",{for:!0,"data-svelte-h":!0}),Ee(v)!=="svelte-10oskxe"&&(v.textContent=k),N=q(T),h=$(T,"INPUT",{id:!0,class:!0,type:!0,name:!0,placeholder:!0}),L=q(T),H(w.$$.fragment,T),T.forEach(d),E=q(M),p=$(M,"DIV",{class:!0});var B=I(p);u=$(B,"BUTTON",{type:!0,class:!0});var J=I(u);C&&C.l(J),f=q(J),O.l(J),J.forEach(d),B.forEach(d),M.forEach(d),this.h()},h(){o(n,"for","application-name"),o(s,"id","application-name"),o(s,"class",a="w-full "+r[5]("name")),o(s,"type","text"),o(s,"name","name"),o(s,"placeholder","Name"),o(l,"class","mb-2"),o(v,"for","application-uri"),o(h,"id","application-uri"),o(h,"class",V="w-full "+r[5]("uri")),o(h,"type","text"),o(h,"name","uri"),o(h,"placeholder","URL Safe Short Name"),o(c,"class","mb-2"),o(u,"type","submit"),o(u,"class","btn primary flex flex-shrink"),u.disabled=r[6],o(p,"class","flex flex-row justify-end"),o(e,"class","flex flex-col flex-grow")},m(A,M){K(A,e,M),_(e,l),_(l,n),_(l,t),_(l,s),ee(s,r[0]),_(l,g),z(m,l,null),_(e,y),_(e,c),_(c,v),_(c,N),_(c,h),ee(h,r[1]),_(c,L),z(w,c,null),_(e,E),_(e,p),_(p,u),C&&C.m(u,null),_(u,f),O.m(u,null),j=!0,D||(R=[W(s,"input",r[10]),W(s,"input",r[7]),W(h,"input",r[11]),W(h,"input",r[7]),W(e,"submit",re(r[8]))],D=!0)},p(A,[M]){(!j||M&32&&a!==(a="w-full "+A[5]("name")))&&o(s,"class",a),M&1&&s.value!==A[0]&&ee(s,A[0]);const Q={};M&8&&(Q.result=A[3]),m.$set(Q),(!j||M&32&&V!==(V="w-full "+A[5]("uri")))&&o(h,"class",V),M&2&&h.value!==A[1]&&ee(h,A[1]);const T={};M&8&&(T.result=A[3]),w.$set(T),A[4]?C?M&16&&U(C,1):(C=qe(),C.c(),U(C,1),C.m(u,f)):C&&(Ie(),S(C,1,1,()=>{C=null}),Ue()),Z!==(Z=X(A))&&(O.d(1),O=Z(A),O&&(O.c(),O.m(u,null))),(!j||M&64)&&(u.disabled=A[6])},i(A){j||(U(m.$$.fragment,A),U(w.$$.fragment,A),U(C),j=!0)},o(A){S(m.$$.fragment,A),S(w.$$.fragment,A),S(C),j=!1},d(A){A&&d(e),F(m),F(w),C&&C.d(),O.d(),D=!1,de(R)}}}const tt=()=>Be((r={},e)=>{e.length&&(Le(e),De("name","required",()=>{Se(r.name).isNotBlank()}),De("uri","required",()=>{Se(r.uri).isNotBlank()}))});function nt(r,e,l){let n,i,{id:t=void 0}=e,{name:s=""}=e,{uri:a=""}=e,{onDone:g}=e;const m=tt();let y=m.get();const c=new Set,v=Ae(()=>{m({name:s,uri:a},Array.from(c)).done(E=>{l(3,y=E)}),c.clear()},300);function k(){c.add("name"),c.add("uri"),v(),v.flush()}function N(E){c.add(E.currentTarget.name),v()}let h=!1;async function V(){try{if(l(4,h=!0),k(),y.isValid()){if(t==null)throw new Error("not_implemented");const E=await fe.update(t,{name:s,uri:a});g(E),m.reset()}}catch(E){await Re(E)}finally{l(4,h=!1)}}function L(){s=this.value,l(0,s)}function w(){a=this.value,l(1,a)}return r.$$set=E=>{"id"in E&&l(2,t=E.id),"name"in E&&l(0,s=E.name),"uri"in E&&l(1,a=E.uri),"onDone"in E&&l(9,g=E.onDone)},r.$$.update=()=>{r.$$.dirty&16&&l(6,n=h),r.$$.dirty&8&&l(5,i=Ce(y,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[s,a,t,y,h,i,n,N,V,g,L,w]}class lt extends ne{constructor(e){super(),le(this,e,nt,et,ce,{id:2,name:0,uri:1,onDone:9})}}function rt(r){let e;const l=r[2].default,n=pe(l,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,t){n&&n.m(i,t),e=!0},p(i,t){n&&n.p&&(!e||t&8)&&_e(n,l,i,i[3],e?ge(l,i[3],t,null):he(i[3]),null)},i(i){e||(U(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function it(r){let e,l;const n=[{name:"undo-2"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[rt]},$$scope:{ctx:r}};for(let t=0;t<n.length;t+=1)i=G(i,n[t]);return e=new be({props:i}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){z(e,t,s),l=!0},p(t,[s]){const a=s&3?$e(n,[n[0],s&2&&ye(t[1]),s&1&&{iconNode:t[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function st(r,e,l){let{$$slots:n={},$$scope:i}=e;const t=[["path",{d:"M9 14 4 9l5-5"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"}]];return r.$$set=s=>{l(1,e=G(G({},e),te(s))),"$$scope"in s&&l(3,i=s.$$scope)},e=te(e),[t,e,n,i]}class at extends ne{constructor(e){super(),le(this,e,st,it,me,{})}}const Fe=at;function ot(r){let e;const l=r[2].default,n=pe(l,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,t){n&&n.m(i,t),e=!0},p(i,t){n&&n.p&&(!e||t&8)&&_e(n,l,i,i[3],e?ge(l,i[3],t,null):he(i[3]),null)},i(i){e||(U(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function ut(r){let e,l;const n=[{name:"eye-off"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[ot]},$$scope:{ctx:r}};for(let t=0;t<n.length;t+=1)i=G(i,n[t]);return e=new be({props:i}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){z(e,t,s),l=!0},p(t,[s]){const a=s&3?$e(n,[n[0],s&2&&ye(t[1]),s&1&&{iconNode:t[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function ft(r,e,l){let{$$slots:n={},$$scope:i}=e;const t=[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]];return r.$$set=s=>{l(1,e=G(G({},e),te(s))),"$$scope"in s&&l(3,i=s.$$scope)},e=te(e),[t,e,n,i]}class ct extends ne{constructor(e){super(),le(this,e,ft,ut,me,{})}}const dt=ct;function mt(r){let e;const l=r[2].default,n=pe(l,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,t){n&&n.m(i,t),e=!0},p(i,t){n&&n.p&&(!e||t&8)&&_e(n,l,i,i[3],e?ge(l,i[3],t,null):he(i[3]),null)},i(i){e||(U(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function pt(r){let e,l;const n=[{name:"eye"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[mt]},$$scope:{ctx:r}};for(let t=0;t<n.length;t+=1)i=G(i,n[t]);return e=new be({props:i}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){z(e,t,s),l=!0},p(t,[s]){const a=s&3?$e(n,[n[0],s&2&&ye(t[1]),s&1&&{iconNode:t[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function _t(r,e,l){let{$$slots:n={},$$scope:i}=e;const t=[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return r.$$set=s=>{l(1,e=G(G({},e),te(s))),"$$scope"in s&&l(3,i=s.$$scope)},e=te(e),[t,e,n,i]}class ht extends ne{constructor(e){super(),le(this,e,_t,pt,me,{})}}const gt=ht;function vt(r){let e;const l=r[2].default,n=pe(l,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,t){n&&n.m(i,t),e=!0},p(i,t){n&&n.p&&(!e||t&8)&&_e(n,l,i,i[3],e?ge(l,i[3],t,null):he(i[3]),null)},i(i){e||(U(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function wt(r){let e,l;const n=[{name:"rotate-ccw"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[vt]},$$scope:{ctx:r}};for(let t=0;t<n.length;t+=1)i=G(i,n[t]);return e=new be({props:i}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){z(e,t,s),l=!0},p(t,[s]){const a=s&3?$e(n,[n[0],s&2&&ye(t[1]),s&1&&{iconNode:t[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function bt(r,e,l){let{$$slots:n={},$$scope:i}=e;const t=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]];return r.$$set=s=>{l(1,e=G(G({},e),te(s))),"$$scope"in s&&l(3,i=s.$$scope)},e=te(e),[t,e,n,i]}class $t extends ne{constructor(e){super(),le(this,e,bt,wt,me,{})}}const yt=$t,jt=typeof btoa=="function",Je=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",se=Array.prototype.slice.call(kt);(r=>{let e={};return r.forEach((l,n)=>e[l]=n),e})(se);const Et=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const It=r=>r.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Ut=r=>{let e,l,n,i,t="";const s=r.length%3;for(let a=0;a<r.length;){if((l=r.charCodeAt(a++))>255||(n=r.charCodeAt(a++))>255||(i=r.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=l<<16|n<<8|i,t+=se[e>>18&63]+se[e>>12&63]+se[e>>6&63]+se[e&63]}return s?t.slice(0,s-3)+"===".substring(s):t},Nt=jt?r=>btoa(r):Je?r=>Buffer.from(r,"binary").toString("base64"):Ut,Pe=Je?r=>Buffer.from(r).toString("base64"):r=>{let l=[];for(let n=0,i=r.length;n<i;n+=4096)l.push(Et.apply(null,r.subarray(n,n+4096)));return Nt(l.join(""))},Dt=(r,e=!1)=>e?It(Pe(r)):Pe(r);function St(r){let e,l,n,i;return{c(){e=b("input"),this.h()},l(t){e=$(t,"INPUT",{id:!0,class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){o(e,"id","application-jwt"),o(e,"class",l="flex flex-grow "+r[4]("jwt")+" pe-8"),o(e,"type","password"),o(e,"name","jwt"),o(e,"placeholder","URL")},m(t,s){K(t,e,s),ee(e,r[0]),n||(i=[W(e,"input",r[13]),W(e,"input",r[7])],n=!0)},p(t,s){s&16&&l!==(l="flex flex-grow "+t[4]("jwt")+" pe-8")&&o(e,"class",l),s&1&&e.value!==t[0]&&ee(e,t[0])},d(t){t&&d(e),n=!1,de(i)}}}function Vt(r){let e,l,n,i;return{c(){e=b("input"),this.h()},l(t){e=$(t,"INPUT",{id:!0,class:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){o(e,"id","application-jwt"),o(e,"class",l="flex flex-grow "+r[4]("jwt")+" pe-8"),o(e,"type","text"),o(e,"name","jwt"),o(e,"placeholder","URL")},m(t,s){K(t,e,s),ee(e,r[0]),n||(i=[W(e,"input",r[12]),W(e,"input",r[7])],n=!0)},p(t,s){s&16&&l!==(l="flex flex-grow "+t[4]("jwt")+" pe-8")&&o(e,"class",l),s&1&&e.value!==t[0]&&ee(e,t[0])},d(t){t&&d(e),n=!1,de(i)}}}function At(r){let e,l;return e=new gt({}),{c(){P(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,i){z(e,n,i),l=!0},i(n){l||(U(e.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Ct(r){let e,l;return e=new dt({}),{c(){P(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,i){z(e,n,i),l=!0},i(n){l||(U(e.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function He(r){let e,l,n,i;return n=new Te({}),{c(){e=b("div"),l=b("div"),P(n.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var s=I(e);l=$(s,"DIV",{class:!0});var a=I(l);H(n.$$.fragment,a),a.forEach(d),s.forEach(d),this.h()},h(){o(l,"class","inline-block w-6 h-6"),o(e,"class","flex flex-row justify-center mr-2")},m(t,s){K(t,e,s),_(e,l),z(n,l,null),i=!0},i(t){i||(U(n.$$.fragment,t),i=!0)},o(t){S(n.$$.fragment,t),i=!1},d(t){t&&d(e),F(n)}}}function Tt(r){let e,l,n="JWT Secret",i,t,s,a,g,m,y,c,v,k,N,h,V,L,w,E,p,u,f,j,D,R,C;g=new Fe({});function X(B,J){return B[3]?Vt:St}let Z=X(r),O=Z(r);const A=[Ct,At],M=[];function Q(B,J){return B[3]?0:1}k=Q(r),N=M[k]=A[k](r),w=new yt({});let T=r[2]&&He();return j=new Ne({props:{name:"jwt",result:r[1]}}),{c(){e=b("form"),l=b("label"),l.textContent=n,i=x(),t=b("div"),s=b("div"),a=b("button"),P(g.$$.fragment),m=x(),y=b("div"),O.c(),c=x(),v=b("button"),N.c(),h=x(),V=b("div"),L=b("button"),P(w.$$.fragment),E=x(),p=b("button"),T&&T.c(),u=ve(`
				Update`),f=x(),P(j.$$.fragment),this.h()},l(B){e=$(B,"FORM",{class:!0});var J=I(e);l=$(J,"LABEL",{for:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-1tlsnj1"&&(l.textContent=n),i=q(J),t=$(J,"DIV",{class:!0});var Y=I(t);s=$(Y,"DIV",{class:!0});var ie=I(s);a=$(ie,"BUTTON",{type:!0,class:!0});var Me=I(a);H(g.$$.fragment,Me),Me.forEach(d),ie.forEach(d),m=q(Y),y=$(Y,"DIV",{class:!0});var je=I(y);O.l(je),c=q(je),v=$(je,"BUTTON",{type:!0,class:!0});var Oe=I(v);N.l(Oe),Oe.forEach(d),je.forEach(d),h=q(Y),V=$(Y,"DIV",{class:!0});var ke=I(V);L=$(ke,"BUTTON",{type:!0,class:!0});var xe=I(L);H(w.$$.fragment,xe),xe.forEach(d),E=q(ke),p=$(ke,"BUTTON",{type:!0,class:!0});var Ve=I(p);T&&T.l(Ve),u=we(Ve,`
				Update`),Ve.forEach(d),ke.forEach(d),Y.forEach(d),f=q(J),H(j.$$.fragment,J),J.forEach(d),this.h()},h(){o(l,"for","application-jwt"),o(a,"type","submit"),o(a,"class","btn icon secondary"),o(s,"class","flex flex-shrink"),o(v,"type","submit"),o(v,"class","btn icon absolute inset-y-0 right-0"),o(y,"class","flex flex-grow relative"),o(L,"type","submit"),o(L,"class","btn icon secondary"),o(p,"type","submit"),o(p,"class","btn primary"),p.disabled=r[5],o(V,"class","flex flex-shrink"),o(t,"class","flex flex-row"),o(e,"class","flex flex-col flex-grow")},m(B,J){K(B,e,J),_(e,l),_(e,i),_(e,t),_(t,s),_(s,a),z(g,a,null),_(t,m),_(t,y),O.m(y,null),_(y,c),_(y,v),M[k].m(v,null),_(t,h),_(t,V),_(V,L),z(w,L,null),_(V,E),_(V,p),T&&T.m(p,null),_(p,u),_(e,f),z(j,e,null),D=!0,R||(C=[W(a,"click",re(r[8])),W(v,"click",re(r[6])),W(L,"click",re(r[9])),W(e,"submit",re(r[10]))],R=!0)},p(B,[J]){Z===(Z=X(B))&&O?O.p(B,J):(O.d(1),O=Z(B),O&&(O.c(),O.m(y,c)));let Y=k;k=Q(B),k!==Y&&(Ie(),S(M[Y],1,1,()=>{M[Y]=null}),Ue(),N=M[k],N||(N=M[k]=A[k](B),N.c()),U(N,1),N.m(v,null)),B[2]?T?J&4&&U(T,1):(T=He(),T.c(),U(T,1),T.m(p,u)):T&&(Ie(),S(T,1,1,()=>{T=null}),Ue()),(!D||J&32)&&(p.disabled=B[5]);const ie={};J&2&&(ie.result=B[1]),j.$set(ie)},i(B){D||(U(g.$$.fragment,B),U(N),U(w.$$.fragment,B),U(T),U(j.$$.fragment,B),D=!0)},o(B){S(g.$$.fragment,B),S(N),S(w.$$.fragment,B),S(T),S(j.$$.fragment,B),D=!1},d(B){B&&d(e),F(g),O.d(),M[k].d(),F(w),T&&T.d(),F(j),R=!1,de(C)}}}const Bt=()=>Be((r={},e)=>{e.length&&(Le(e),De("jwt","required",()=>{Se(r.jwt).isNotBlank()}))});function Lt(r,e,l){let n,i,{id:t}=e,{jwt:s=""}=e,a=s;const g=Bt();let m=!1;function y(){l(3,m=!m)}let c=g.get();const v=new Set,k=Ae(()=>{g({jwt:s},Array.from(v)).done(f=>{l(1,c=f)}),v.clear()},300);function N(){v.add("jwt"),k(),k.flush()}function h(f){v.add(f.currentTarget.name),k()}function V(){l(0,s=a),g.reset()}function L(){l(0,s=Dt(Ze(new Uint8Array(256))))}let w=!1;async function E(){try{l(2,w=!0),N(),c.isValid()&&(await fe.updateConfig(t,{key:"jwt.secret",value:s}),a=s,g.reset())}catch(f){await Re(f)}finally{l(2,w=!1)}}function p(){s=this.value,l(0,s)}function u(){s=this.value,l(0,s)}return r.$$set=f=>{"id"in f&&l(11,t=f.id),"jwt"in f&&l(0,s=f.jwt)},r.$$.update=()=>{r.$$.dirty&4&&l(5,n=w),r.$$.dirty&2&&l(4,i=Ce(c,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[s,c,w,m,i,n,y,h,V,L,E,t,p,u]}class Rt extends ne{constructor(e){super(),le(this,e,Lt,Tt,ce,{id:11,jwt:0})}}function ze(r){let e,l,n,i;return n=new Te({}),{c(){e=b("div"),l=b("div"),P(n.$$.fragment),this.h()},l(t){e=$(t,"DIV",{class:!0});var s=I(e);l=$(s,"DIV",{class:!0});var a=I(l);H(n.$$.fragment,a),a.forEach(d),s.forEach(d),this.h()},h(){o(l,"class","inline-block w-6 h-6"),o(e,"class","flex flex-row justify-center mr-2")},m(t,s){K(t,e,s),_(e,l),z(n,l,null),i=!0},i(t){i||(U(n.$$.fragment,t),i=!0)},o(t){S(n.$$.fragment,t),i=!1},d(t){t&&d(e),F(n)}}}function Mt(r){let e,l,n="URI",i,t,s,a,g,m,y,c,v,k,N,h,V,L,w,E,p,u;g=new Fe({});let f=r[2]&&ze();return w=new Ne({props:{name:"uri",result:r[1]}}),{c(){e=b("form"),l=b("label"),l.textContent=n,i=x(),t=b("div"),s=b("div"),a=b("button"),P(g.$$.fragment),m=x(),y=b("div"),c=b("input"),k=x(),N=b("div"),h=b("button"),f&&f.c(),V=ve(`
				Update`),L=x(),P(w.$$.fragment),this.h()},l(j){e=$(j,"FORM",{class:!0});var D=I(e);l=$(D,"LABEL",{for:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-1t1z28n"&&(l.textContent=n),i=q(D),t=$(D,"DIV",{class:!0});var R=I(t);s=$(R,"DIV",{class:!0});var C=I(s);a=$(C,"BUTTON",{type:!0,class:!0});var X=I(a);H(g.$$.fragment,X),X.forEach(d),C.forEach(d),m=q(R),y=$(R,"DIV",{class:!0});var Z=I(y);c=$(Z,"INPUT",{id:!0,class:!0,type:!0,name:!0,placeholder:!0}),Z.forEach(d),k=q(R),N=$(R,"DIV",{class:!0});var O=I(N);h=$(O,"BUTTON",{type:!0,class:!0});var A=I(h);f&&f.l(A),V=we(A,`
				Update`),A.forEach(d),O.forEach(d),R.forEach(d),L=q(D),H(w.$$.fragment,D),D.forEach(d),this.h()},h(){o(l,"for","application-uri"),o(a,"type","submit"),o(a,"class","btn icon secondary flex flex-shrink"),o(s,"class","flex flex-shrink"),o(c,"id","application-uri"),o(c,"class",v="flex flex-grow "+r[3]("uri")),o(c,"type","text"),o(c,"name","uri"),o(c,"placeholder","URL"),o(y,"class","flex flex-grow relative"),o(h,"type","submit"),o(h,"class","btn primary flex flex-shrink"),h.disabled=r[4],o(N,"class","flex flex-shrink"),o(t,"class","flex flex-row"),o(e,"class","flex flex-col flex-grow")},m(j,D){K(j,e,D),_(e,l),_(e,i),_(e,t),_(t,s),_(s,a),z(g,a,null),_(t,m),_(t,y),_(y,c),ee(c,r[0]),_(t,k),_(t,N),_(N,h),f&&f.m(h,null),_(h,V),_(e,L),z(w,e,null),E=!0,p||(u=[W(a,"click",re(r[6])),W(c,"input",r[9]),W(c,"input",r[5]),W(e,"submit",re(r[7]))],p=!0)},p(j,[D]){(!E||D&8&&v!==(v="flex flex-grow "+j[3]("uri")))&&o(c,"class",v),D&1&&c.value!==j[0]&&ee(c,j[0]),j[2]?f?D&4&&U(f,1):(f=ze(),f.c(),U(f,1),f.m(h,V)):f&&(Ie(),S(f,1,1,()=>{f=null}),Ue()),(!E||D&16)&&(h.disabled=j[4]);const R={};D&2&&(R.result=j[1]),w.$set(R)},i(j){E||(U(g.$$.fragment,j),U(f),U(w.$$.fragment,j),E=!0)},o(j){S(g.$$.fragment,j),S(f),S(w.$$.fragment,j),E=!1},d(j){j&&d(e),F(g),f&&f.d(),F(w),p=!1,de(u)}}}const Ot=()=>Be((r={},e)=>{e.length&&(Le(e),De("uri","required",()=>{Se(r.uri).isNotBlank()}))});function xt(r,e,l){let n,i,{id:t}=e,{uri:s=""}=e,a=s;const g=Ot();let m=g.get();const y=new Set,c=Ae(()=>{g({uri:s},Array.from(y)).done(w=>{l(1,m=w)}),y.clear()},300);function v(){y.add("uri"),c(),c.flush()}function k(w){y.add(w.currentTarget.name),c()}function N(){l(0,s=a),g.reset()}let h=!1;async function V(){try{l(2,h=!0),v(),m.isValid()&&(await fe.updateConfig(t,{key:"uri",value:s}),a=s,g.reset())}catch(w){await Re(w)}finally{l(2,h=!1)}}function L(){s=this.value,l(0,s)}return r.$$set=w=>{"id"in w&&l(8,t=w.id),"uri"in w&&l(0,s=w.uri)},r.$$.update=()=>{r.$$.dirty&4&&l(4,n=h),r.$$.dirty&2&&l(3,i=Ce(m,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[s,m,h,i,n,k,N,V,t,L]}class qt extends ne{constructor(e){super(),le(this,e,xt,Mt,ce,{id:8,uri:0})}}function Pt(r){let e,l,n,i,t,s,a,g,m,y,c,v,k,N,h;n=new lt({props:{id:r[0].id,name:r[0].name,uri:r[0].uri,onDone:r[2]}});function V(u){r[3](u)}let L={id:r[0].id};r[1].uri.value!==void 0&&(L.uri=r[1].uri.value),a=new qt({props:L}),ae.push(()=>ue(a,"uri",V));function w(u){r[4](u)}function E(u){r[5](u)}let p={id:r[0].id};return r[1]["jwt.secret"].value!==void 0&&(p.jwt=r[1]["jwt.secret"].value),r[1]["jwt.expires_in_seconds"].value!==void 0&&(p.expiresInSeconds=r[1]["jwt.expires_in_seconds"].value),v=new Rt({props:p}),ae.push(()=>ue(v,"jwt",w)),ae.push(()=>ue(v,"expiresInSeconds",E)),{c(){e=b("div"),l=b("div"),P(n.$$.fragment),i=x(),t=b("div"),s=b("div"),P(a.$$.fragment),m=x(),y=b("div"),c=b("div"),P(v.$$.fragment),this.h()},l(u){e=$(u,"DIV",{class:!0});var f=I(e);l=$(f,"DIV",{class:!0});var j=I(l);H(n.$$.fragment,j),j.forEach(d),f.forEach(d),i=q(u),t=$(u,"DIV",{class:!0});var D=I(t);s=$(D,"DIV",{class:!0});var R=I(s);H(a.$$.fragment,R),R.forEach(d),D.forEach(d),m=q(u),y=$(u,"DIV",{class:!0});var C=I(y);c=$(C,"DIV",{class:!0});var X=I(c);H(v.$$.fragment,X),X.forEach(d),C.forEach(d),this.h()},h(){o(l,"class","flex flex-col flex-shrink w-full max-w-6xl mx-auto mt-4 bg-white dark:bg-gray-800 shadow p-4"),o(e,"class","flex flex-col justify-end md:justify-start px-4"),o(s,"class","flex flex-col flex-shrink w-full max-w-6xl mx-auto mt-4 bg-white dark:bg-gray-800 shadow p-4"),o(t,"class","flex flex-col justify-end md:justify-start px-4"),o(c,"class","flex flex-col flex-shrink w-full max-w-6xl mx-auto mt-4 bg-white dark:bg-gray-800 shadow p-4"),o(y,"class","flex flex-col justify-end md:justify-start px-4")},m(u,f){K(u,e,f),_(e,l),z(n,l,null),K(u,i,f),K(u,t,f),_(t,s),z(a,s,null),K(u,m,f),K(u,y,f),_(y,c),z(v,c,null),h=!0},p(u,[f]){const j={};f&1&&(j.id=u[0].id),f&1&&(j.name=u[0].name),f&1&&(j.uri=u[0].uri),n.$set(j);const D={};f&1&&(D.id=u[0].id),!g&&f&2&&(g=!0,D.uri=u[1].uri.value,oe(()=>g=!1)),a.$set(D);const R={};f&1&&(R.id=u[0].id),!k&&f&2&&(k=!0,R.jwt=u[1]["jwt.secret"].value,oe(()=>k=!1)),!N&&f&2&&(N=!0,R.expiresInSeconds=u[1]["jwt.expires_in_seconds"].value,oe(()=>N=!1)),v.$set(R)},i(u){h||(U(n.$$.fragment,u),U(a.$$.fragment,u),U(v.$$.fragment,u),h=!0)},o(u){S(n.$$.fragment,u),S(a.$$.fragment,u),S(v.$$.fragment,u),h=!1},d(u){u&&(d(e),d(i),d(t),d(m),d(y)),F(n),F(a),F(v)}}}function Ht(r,e,l){let{application:n}=e,{configs:i}=e;function t(m){l(0,n=m)}function s(m){r.$$.not_equal(i.uri.value,m)&&(i.uri.value=m,l(1,i))}function a(m){r.$$.not_equal(i["jwt.secret"].value,m)&&(i["jwt.secret"].value=m,l(1,i))}function g(m){r.$$.not_equal(i["jwt.expires_in_seconds"].value,m)&&(i["jwt.expires_in_seconds"].value=m,l(1,i))}return r.$$set=m=>{"application"in m&&l(0,n=m.application),"configs"in m&&l(1,i=m.configs)},[n,i,t,s,a,g]}class zt extends ne{constructor(e){super(),le(this,e,Ht,Pt,ce,{application:0,configs:1})}}function Ft(r){let e;const l=r[2].default,n=pe(l,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,t){n&&n.m(i,t),e=!0},p(i,t){n&&n.p&&(!e||t&8)&&_e(n,l,i,i[3],e?ge(l,i[3],t,null):he(i[3]),null)},i(i){e||(U(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Jt(r){let e,l;const n=[{name:"arrow-left"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Ft]},$$scope:{ctx:r}};for(let t=0;t<n.length;t+=1)i=G(i,n[t]);return e=new be({props:i}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,s){z(e,t,s),l=!0},p(t,[s]){const a=s&3?$e(n,[n[0],s&2&&ye(t[1]),s&1&&{iconNode:t[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Kt(r,e,l){let{$$slots:n={},$$scope:i}=e;const t=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return r.$$set=s=>{l(1,e=G(G({},e),te(s))),"$$scope"in s&&l(3,i=s.$$scope)},e=te(e),[t,e,n,i]}class Wt extends ne{constructor(e){super(),le(this,e,Kt,Jt,me,{})}}const Gt=Wt;function Zt(r){let e,l,n,i,t,s,a,g,m,y=r[1].name+"",c,v,k,N,h,V;document.title=e=r[1].name,a=new Gt({});function L(p){r[3](p)}function w(p){r[4](p)}let E={};return r[1]!==void 0&&(E.application=r[1]),r[0]!==void 0&&(E.configs=r[0]),k=new zt({props:E}),ae.push(()=>ue(k,"application",L)),ae.push(()=>ue(k,"configs",w)),{c(){l=x(),n=b("div"),i=b("div"),t=b("div"),s=b("a"),P(a.$$.fragment),g=x(),m=b("h4"),c=ve(y),v=x(),P(k.$$.fragment),this.h()},l(p){Ke("svelte-btu2at",document.head).forEach(d),l=q(p),n=$(p,"DIV",{class:!0});var f=I(n);i=$(f,"DIV",{class:!0});var j=I(i);t=$(j,"DIV",{class:!0});var D=I(t);s=$(D,"A",{class:!0,href:!0});var R=I(s);H(a.$$.fragment,R),R.forEach(d),g=q(D),m=$(D,"H4",{});var C=I(m);c=we(C,y),C.forEach(d),D.forEach(d),j.forEach(d),f.forEach(d),v=q(p),H(k.$$.fragment,p),this.h()},h(){o(s,"class","btn icon primary me-2"),o(s,"href",`${Ge}/applications`),o(t,"class","flex flex-row"),o(i,"class","flex flex-col flex-shrink w-full max-w-6xl mx-auto mt-4 bg-white dark:bg-gray-800 shadow p-4"),o(n,"class","flex flex-col justify-end md:justify-start px-4")},m(p,u){K(p,l,u),K(p,n,u),_(n,i),_(i,t),_(t,s),z(a,s,null),_(t,g),_(t,m),_(m,c),K(p,v,u),z(k,p,u),V=!0},p(p,[u]){(!V||u&2)&&e!==(e=p[1].name)&&(document.title=e),(!V||u&2)&&y!==(y=p[1].name+"")&&We(c,y);const f={};!N&&u&2&&(N=!0,f.application=p[1],oe(()=>N=!1)),!h&&u&1&&(h=!0,f.configs=p[0],oe(()=>h=!1)),k.$set(f)},i(p){V||(U(a.$$.fragment,p),U(k.$$.fragment,p),V=!0)},o(p){S(a.$$.fragment,p),S(k.$$.fragment,p),V=!1},d(p){p&&(d(l),d(n),d(v)),F(a),F(k,p)}}}function Qt(r,e,l){let n,i,{data:t}=e;function s(g){n=g,l(1,n),l(2,t)}function a(g){i=g,l(0,i),l(2,t)}return r.$$set=g=>{"data"in g&&l(2,t=g.data)},r.$$.update=()=>{r.$$.dirty&4&&l(1,n=t.application),r.$$.dirty&4&&l(0,i=t.configs)},[i,n,t,s,a]}class on extends ne{constructor(e){super(),le(this,e,Qt,Zt,ce,{data:2})}}export{on as component,an as universal};
