import{l as ve,r as ge,m as we}from"../chunks/scheduler.281724f8.js";import{S as be,i as Ee,s as D,g as b,m as Y,r as le,I as ke,f as h,c as T,h as E,j as I,n as Z,u as ne,k as n,a as x,C as u,J as X,v as re,D as R,K as Ie,o as ee,d as q,t as z,b as ye,w as ie,p as $e}from"../chunks/index.2ae88f8a.js";import{I as de,d as Se,i as Ve,S as je,K as De,V as Te,v as pe,w as ce}from"../chunks/Spinner.02976e77.js";import{L as Ne}from"../chunks/i18n-svelte.bad49d15.js";import{g as Pe}from"../chunks/navigation.b34101f3.js";import{b as he}from"../chunks/paths.e2bce217.js";import{j as Ue}from"../chunks/user.e091a7a6.js";import{h as Le}from"../chunks/errors.06c64ea6.js";const Me=async e=>{const{signUpMethods:s}=await e.parent();return{signUpMethods:s}},Ge=Object.freeze(Object.defineProperty({__proto__:null,load:Me},Symbol.toStringTag,{value:"Module"}));function me(e){let s,a,i=e[7].not_a_member()+"",o,f,p,g=e[7].sign_up()+"",k;return{c(){s=b("p"),a=b("span"),o=Y(i),f=D(),p=b("a"),k=Y(g),this.h()},l(c){s=E(c,"P",{class:!0});var r=I(s);a=E(r,"SPAN",{});var v=I(a);o=Z(v,i),v.forEach(h),f=T(r),p=E(r,"A",{href:!0,class:!0});var d=I(p);k=Z(d,g),d.forEach(h),r.forEach(h),this.h()},h(){n(p,"href",`${he}/signup`),n(p,"class","underline text-blue-500"),n(s,"class","py-2")},m(c,r){x(c,s,r),u(s,a),u(a,o),u(s,f),u(s,p),u(p,k)},p(c,r){r&128&&i!==(i=c[7].not_a_member()+"")&&ee(o,i),r&128&&g!==(g=c[7].sign_up()+"")&&ee(k,g)},d(c){c&&h(s)}}}function _e(e){let s,a,i,o;return i=new je({}),{c(){s=b("div"),a=b("div"),le(i.$$.fragment),this.h()},l(f){s=E(f,"DIV",{class:!0});var p=I(s);a=E(p,"DIV",{class:!0});var g=I(a);ne(i.$$.fragment,g),g.forEach(h),p.forEach(h),this.h()},h(){n(a,"class","inline-block w-6 h-6"),n(s,"class","flex flex-row justify-center mr-2")},m(f,p){x(f,s,p),u(s,a),re(i,a,null),o=!0},i(f){o||(q(i.$$.fragment,f),o=!0)},o(f){z(i.$$.fragment,f),o=!1},d(f){f&&h(s),ie(i)}}}function Ae(e){let s,a,i,o,f,p=e[7].sign_in()+"",g,k,c,r,v,d,U,L,N,S,B,V,l,M,F,te,P,se,A,y,H,C=e[7].sign_in()+"",J,$,ae,oe;document.title=s=e[7].sign_in();let w=e[0].signUpMethods.enabled&&me(e);S=new de({props:{name:"username",result:e[1]}}),P=new de({props:{name:"password",result:e[1]}});let m=e[2]&&_e();return{c(){a=D(),i=b("div"),o=b("div"),f=b("h1"),g=Y(p),k=D(),w&&w.c(),c=D(),r=b("form"),v=b("div"),d=b("input"),N=D(),le(S.$$.fragment),B=D(),V=b("div"),l=b("input"),te=D(),le(P.$$.fragment),se=D(),A=b("div"),y=b("button"),m&&m.c(),H=D(),J=Y(C),this.h()},l(t){ke("svelte-1kk4d8a",document.head).forEach(h),a=T(t),i=E(t,"DIV",{class:!0});var K=I(i);o=E(K,"DIV",{class:!0});var j=I(o);f=E(j,"H1",{class:!0});var ue=I(f);g=Z(ue,p),ue.forEach(h),k=T(j),w&&w.l(j),c=T(j),r=E(j,"FORM",{});var O=I(r);v=E(O,"DIV",{class:!0});var G=I(v);d=E(G,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),N=T(G),ne(S.$$.fragment,G),G.forEach(h),B=T(O),V=E(O,"DIV",{class:!0});var Q=I(V);l=E(Q,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),te=T(Q),ne(P.$$.fragment,Q),Q.forEach(h),se=T(O),A=E(O,"DIV",{class:!0});var fe=I(A);y=E(fe,"BUTTON",{type:!0,class:!0});var W=I(y);m&&m.l(W),H=T(W),J=Z(W,C),W.forEach(h),fe.forEach(h),O.forEach(h),j.forEach(h),K.forEach(h),this.h()},h(){n(f,"class","mb-1"),n(d,"class",U="w-full "+e[5]("username")),n(d,"type","text"),n(d,"name","username"),n(d,"autocomplete","username"),n(d,"placeholder",L=e[7].username_placeholder()),n(v,"class","mb-2"),n(l,"class",M="w-full "+e[5]("password")),n(l,"type","password"),n(l,"name","password"),n(l,"autocomplete","current-password"),n(l,"placeholder",F=e[7].password_placeholder()),n(V,"class","mb-2"),n(y,"type","submit"),n(y,"class","btn primary flex flex-shrink"),y.disabled=e[6],n(A,"class","flex flex-row justify-end"),n(o,"class","flex flex-col flex-shrink md:w-72 w-full mx-auto my-10 bg-white dark:bg-gray-800 shadow p-4"),n(i,"class","flex flex-col flex-grow justify-end md:justify-start")},m(t,_){x(t,a,_),x(t,i,_),u(i,o),u(o,f),u(f,g),u(o,k),w&&w.m(o,null),u(o,c),u(o,r),u(r,v),u(v,d),X(d,e[3]),u(v,N),re(S,v,null),u(r,B),u(r,V),u(V,l),X(l,e[4]),u(V,te),re(P,V,null),u(r,se),u(r,A),u(A,y),m&&m.m(y,null),u(y,H),u(y,J),$=!0,ae||(oe=[R(d,"input",e[10]),R(d,"input",e[8]),R(l,"input",e[11]),R(l,"input",e[8]),R(r,"submit",Ie(e[9]))],ae=!0)},p(t,[_]){(!$||_&128)&&s!==(s=t[7].sign_in())&&(document.title=s),(!$||_&128)&&p!==(p=t[7].sign_in()+"")&&ee(g,p),t[0].signUpMethods.enabled?w?w.p(t,_):(w=me(t),w.c(),w.m(o,c)):w&&(w.d(1),w=null),(!$||_&32&&U!==(U="w-full "+t[5]("username")))&&n(d,"class",U),(!$||_&128&&L!==(L=t[7].username_placeholder()))&&n(d,"placeholder",L),_&8&&d.value!==t[3]&&X(d,t[3]);const K={};_&2&&(K.result=t[1]),S.$set(K),(!$||_&32&&M!==(M="w-full "+t[5]("password")))&&n(l,"class",M),(!$||_&128&&F!==(F=t[7].password_placeholder()))&&n(l,"placeholder",F),_&16&&l.value!==t[4]&&X(l,t[4]);const j={};_&2&&(j.result=t[1]),P.$set(j),t[2]?m?_&4&&q(m,1):(m=_e(),m.c(),q(m,1),m.m(y,H)):m&&($e(),z(m,1,1,()=>{m=null}),ye()),(!$||_&128)&&C!==(C=t[7].sign_in()+"")&&ee(J,C),(!$||_&64)&&(y.disabled=t[6])},i(t){$||(q(S.$$.fragment,t),q(P.$$.fragment,t),q(m),$=!0)},o(t){z(S.$$.fragment,t),z(P.$$.fragment,t),z(m),$=!1},d(t){t&&(h(a),h(i)),w&&w.d(),ie(S),ie(P),m&&m.d(),ae=!1,ge(oe)}}}const Oe=()=>De((e={},s)=>{s.length&&(Te(s),pe("username","required",()=>{ce(e.username).isNotBlank()}),pe("password","required",()=>{ce(e.password).isNotBlank()}))});function qe(e,s,a){let i,o,f;we(e,Ne,l=>a(7,f=l));let{data:p}=s;const g=Oe();let k="",c="",r=g.get();const v=new Set,d=Se(()=>{g({username:k,password:c},Array.from(v)).done(l=>{a(1,r=l)}),v.clear()},300);function U(){v.add("username"),v.add("password"),d(),d.flush()}function L(l){l.currentTarget.value=l.currentTarget.value.trim(),v.add(l.currentTarget.name),d()}let N=!1;async function S(l){try{a(2,N=!0),U(),r.isValid()&&(await Ue(k,c),await Pe(`${he}/`))}catch(M){await Le(M)}finally{a(2,N=!1)}}function B(){k=this.value,a(3,k)}function V(){c=this.value,a(4,c)}return e.$$set=l=>{"data"in l&&a(0,p=l.data)},e.$$.update=()=>{e.$$.dirty&4&&a(6,i=N),e.$$.dirty&2&&a(5,o=Ve(r,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[p,r,N,k,c,o,i,f,L,S,B,V]}class Qe extends be{constructor(s){super(),Ee(this,s,qe,Ae,ve,{data:0})}}export{Qe as component,Ge as universal};
