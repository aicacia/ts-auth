import{w as f}from"./singletons.2a3723e9.js";var y=r=>!!r,L=r=>Array.from(new Set(r)),E=(r,t,...e)=>{for(let s of e){let n=w(t,s);if(n)return n}return r},w=(r,t)=>{let e=t().map(o=>o.toLowerCase()),s=L(e.flatMap(o=>[o,o.split("-")[0]])),n=r.map(o=>o.toLowerCase());return s.map(o=>{let a=n.findIndex(i=>i===o);return a>=0&&r[a]}).find(y)};const O="en",k=["en"],h={},j={},M=(...r)=>E(O,k,...r);var m=()=>new Proxy(Object.assign(()=>"",{}),{get:(r,t)=>t==="length"?0:m()}),A=r=>Object.fromEntries(Object.entries(r).map(([t,e])=>t!=="i"&&e&&e!="0"&&[t,e]).filter(Boolean)),_=r=>Object.fromEntries(Object.keys(r).map(t=>{const e=r[t];return[t,Array.isArray(e)?e.map(s=>s==null?void 0:s.trim()):e===!!e?e:e==null?void 0:e.trim()]})),S=r=>{const[t="",...e]=r.split("|"),[s="",n]=t.split(":"),[o,a]=s.split("?");return{k:o,i:n,n:a==="",f:e}},I=r=>!!(r.o||r.r),R=(r,t)=>{let[e,s]=r.split(":");s||(s=e,e=t);const n=s.split("|"),[o,a,i,c,v,d]=n,l=n.filter(P=>P!==void 0).length;return l===1?{k:e,r:o}:l===2?{k:e,o,r:a}:l===3?{k:e,z:o,o:a,r:i}:{k:e,z:o,o:a,t:i,f:c,m:v,r:d}},C=/^\{.*\}$/,T=r=>Object.fromEntries(u(r).split(",").map(t=>t.split(":")).reduce((t,e)=>e.length===2?[...t,e.map(s=>s.trim())]:(t[t.length-1][1]+=","+e[0],t),[])),p=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,u=r=>r.substring(1,r.length-1),z=(r,t=!0,e="",s="")=>r.split(p).map(n=>{if(!n.match(p))return n;const o=u(n);if(o.startsWith("{"))return R(u(o),s);const a=S(o);return s=a.k||s,!e&&(e=s),a}).map(n=>{if(typeof n=="string")return n;n.k||(n.k=e||"0");const o=_(n);return t?A(o):o}),B=(r,t,e)=>t.reduce((s,n)=>{var o,a;return(a=n.match(C)?(i=>{var c;return(c=i[s])!=null?c:i["*"]})(T(n)):(o=r[n])==null?void 0:o.call(r,s))!=null?a:s},e),x=(r,{z:t,o:e,t:s,f:n,m:o,r:a},i)=>{switch(t&&i==0?"zero":r.select(i)){case"zero":return t;case"one":return e;case"two":return s;case"few":return n!=null?n:a;case"many":return o!=null?o:a;default:return a}},G=/\?\?/g,N=(r,t,e,s)=>r.map(n=>{if(typeof n=="string")return n;const{k:o="0",f:a=[]}=n,i=s[o];if(I(n))return((typeof i=="boolean"?i?n.o:n.r:x(t,n,i))||"").replace(G,i);const c=a.length?B(e,a,i):i;return(""+(c!=null?c:"")).trim()}).join(""),W=(r,t,e,s)=>{const n=s[0],o=n&&typeof n=="object"&&n.constructor===Object,a=s.length===1&&o?n:s;return N(r,t,e,a)},X=(r,t)=>r[t]||(r[t]=z(t)),F=(r,t)=>{const e={},s=new Intl.PluralRules(r);return(n,...o)=>W(X(e,n),s,t,o)};function U(r,t,e={}){return g(t,F(r,e))}var b=(r={},t)=>typeof r=="string"?t.bind(null,r):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),r),g=(r,t)=>new Proxy(b(r,t),{get:(e,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(e).map(n=>b(n,t))):g(e[s],t)}),V=(r,t={})=>{const e=f(),s=f(m()),n=H(e),o=new Proxy({},{get:(i,c)=>c==="subscribe"?s.subscribe:s[c]});return{locale:n,LL:o,setLocale:i=>{e.set(i),s.set(U(i,r[i],t[i]))}}};function H(r){return{subscribe:r.subscribe.bind(r)}}const{locale:$,LL:q,setLocale:D}=V(h,j);export{q as L,h as a,M as d,j as l,D as s};
